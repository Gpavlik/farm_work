<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ó–∞–≤–¥–∞–Ω–Ω—è</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&family=Roboto:wght@400;500;700;900&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/1.1.0/modern-normalize.css"
    integrity="sha512-Y0MM+V6ymRKN2zStTqzQ227DWhhp4Mzdo6gnlRnuaNCbc+YN/ZH0sBCLTM4M0oSy9c9VKiCvd4Jk44aCLrNS5Q=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="./css/main.css" />
  <link rel="stylesheet" href="./css/styles.css">

<!-- Google tag (gtag.js) -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-5BZZCV5DRK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag("js", new Date());
  gtag("config", "G-5BZZCV5DRK");
</script>
<script>
  const email = localStorage.getItem("allowedEmail");
  if (email) {
    gtag("set", "user_properties", {
      user_id: email
    });
  }
</script>
<script>
  function sha256(input) {
    const encoder = new TextEncoder();
    const data = encoder.encode(input);
    return crypto.subtle.digest("SHA-256", data).then(hash => {
      return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');
    });
  }
</script>
</head>
<body>
  <header class="header">
    <div class="container header__container">
      <a class="logo" href="./index.html"><img src="./images/logo.svg" alt="logo" width="160"></a>
      <!--<ul class="nav">
        <li class="nav__referent"><a class="nav__link" href="./index.html">–ì–æ–ª–æ–≤–Ω–∞</a></li>
        <li class="nav__referent"><a class="nav__link nav__link--active" href="./portfolio.html">–ö—É—Ä—Å–∏</a></li>
        <li class="nav__referent"><a class="nav__link" href="https://pharmasco.com/contacts" target="_blank" rel="noopener noreferrer">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
      </ul>-->
      <ul class="contacts">
        <li class="contacts__contact">
          <a class="contacts__contact-mail " href="mailto:contact@pharmasco.com">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-envelope"></use>
            </svg>contact@pharmasco.com</a>
          </a>
        </li>
       <li class="contacts__contact">
          <a class="contacts__contact-phone " href="tel:+38 (044) 537-08-04">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (044) 537-08-04</a>
            <a class="contacts__contact-phone" style="margin-top: 8px;" href="tel:+38 (067) 500-82-74">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (067) 500-82-74</a>
        </li>
      </ul>
    </div>
    <button class="mobile-menu-btn" type="button" data-menu-button>
      <svg class="mobile-menu-icon" width="24" height="16">
        <use class="mobile-menu-burger" href="./images/sprite.svg#24-menu"></use>
        <use class="mobile-menu-close" href="./images/sprite.svg#icon-X"></use>
      </svg>
    </button>
    <div class="mobile-menu" data-menu>
      <!--<ul class="mobile-menu-nav">
        <li class="mobile-menu-nav-item">
          <a class="link " href="./index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
        </li>
        <li class="mobile-menu-nav-item">
          <a class="link current" href="./portfolio.html">–ö—É—Ä—Å–∏</a>
        </li>
        <li class="mobile-menu-nav-item">
          <a class="link" href="/contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
        </li>
      </ul>-->
      <ul class="mobile-menu-contacts">
        <li class="contacts__contact">
          <a class="contacts__contact-phone " href="tel:+38 (044) 537-08-04">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (044) 537-08-04</a>
            <a class="contacts__contact-phone" style="margin-top: 8px;" href="tel:+38 (067) 500-82-74">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (067) 500-82-74</a>
        </li>
        <li class="mobile-menu-contacts-item">
          <a class="link" href="mailto:contact@pharmasco.com">contact@pharmasco.com</a>
        </li>
      </ul>
      <ul class="mobile-menu-socials">
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.instagram.com/pharmascocom/" target="_blank" rel="noopener noreferrer">Instagram</a>
        </li>
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.youtube.com/@Pharmasco" target="_blank" rel="noopener noreferrer">Youtube</a>
        </li>
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.facebook.com/Pharmasco/" target="_blank" rel="noopener noreferrer">Facebook</a>
        </li>
      </ul>
    </div>
  </header>
  <main>
    <section class="works">
      <div class="container">
      <h2 style="margin-bottom: 20px; text-align: center;"> –§–æ—Ä–º–∞ –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –≤–∏—è–≤–ª–µ–Ω–Ω—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤</h2>
      <h2 style="margin-bottom: 20px; text-align: center;">–ß–µ—Ç–≤–µ—Ä—Ç–∏–π –Ω–∞–≤–∏–∫ –¥—Ä—É–≥–æ–≥–æ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É</h2>
        <h3 style="margin-bottom: 20px ; line-height: 1.5; color: #949494;">–î–ª—è –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è –Ω–∞–≤–∏–∫—É –≤–∏—è–≤–ª–µ–Ω–Ω—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤:<br>üü¢1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–Ω–∞–Ω–Ω—è —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞ —Å—Ç–æ—Å–æ–≤–Ω–æ —Ç–æ–≥–æ —Ö—Ç–æ —Ç–∞–∫–∏–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç, —è–∫ –π–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏—è–≤–ª—è—Ç–∏<br>üü¢2. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –∑–∞–ø–∏—Ç–∞–Ω—å –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤, —á–∏ —Ç–µ—Ö–Ω—ñ—Ü—ñ –∑–∞–º—ñ—â–µ–Ω–Ω—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤</h3>
        <ul class="button">
          <li class="button-section" style="margin-bottom: 2px;"><button class="btn" type="button"><a href="./PV8a.html" style="text-decoration: none; font-size: smaller;" class="text__work">–í–∏—è–≤–ª–µ–Ω–Ω—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤</a></button></li>
          <li class="button-section" style="margin-bottom: 2px;"><button class="btn" type="button"><a href="./PV8b.html" style="text-decoration: none; font-size: smaller;" class="text__work">–ó–∞–º—ñ—â–µ–Ω–Ω—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤</a></button></li>
          <li class="button-section" style="margin-bottom: 2px;"><button class="btn" type="button"><a style="text-decoration: none; font-size: smaller;" class="text__work" href="./portfolio PV.html" target="_blank" rel="noopener noreferrer">–ù–∞–∑–∞–¥</a></button></li>
        </ul>
      </div>
  </div>
</section>
</main>
  <footer class="footer">
    <div class="container">
      <div class="find-us">
        <div class="find">
          <a class="logo footer__logo" href="/"><img src="./images/logo.svg" alt="logo" width="160"></a>
          <ul class="contacts contacts--footer">
            <li class="contacts__contact contacts__contact--footer">
              <address class="contacts__post"><p>–£–∫—Ä–∞—ó–Ω–∞, –ö–∏—ó–≤—Å—å–∫–∞ –æ–±–ª.,</p> <p>–º. –í–∏—à–≥–æ—Ä–æ–¥,</p> <p>–≤—É–ª. –®–æ–ª—É–¥–µ–Ω–∫–∞, 15–≥</p></address>
            </li>
            <li class="contacts__contact contacts__contact--footer">
              <a class="contacts__contact-mail contacts__contact-mail--footer"
                href="mailto:contact@pharmasco.com">contact@pharmasco.com</a>
            </li>
            <li class="contacts__contact contacts__contact--footer">
              <a class="contacts__contact-phone contacts__contact-phone--footer" href="tel:+38 (044) 537-08-04">+38 (044) 537-08-04</a>
              <a class="contacts__contact-phone contacts__contact-phone--footer" href="tel:+38 (067) 500-82-74">+38 (067) 500-82-74</a>
            </li>
          </ul>
        </div>
        <div class="social social--footer">
          <h2 class="social__title">–ø—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å</h2>
          <ul class="social__list social__list--footer">
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.instagram.com/pharmascocom/" target="_blank" rel="noopener noreferrer"
                aria-label="–∏–Ω—Å—Ç–∞–≥—Ä–∞–º –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/sprite.svg#icon-instagram"></use>
                </svg></a>
            </li>
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.youtube.com/@Pharmasco" target="_blank" rel="noopener noreferrer"
                aria-label="—Ç–≤–∏—Ç—Ç–µ—Ä –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/uoytube.svg"></use>
                </svg></a>
            </li>
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.facebook.com/Pharmasco/" target="_blank" rel="noopener noreferrer"
                aria-label="—Ñ–µ–π—Å–±—É–∫ –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/sprite.svg#icon-facebook"></use>
                </svg></a> 
            </li>       
          </ul>
        </div>
        <div class="spam">
          <h2 class="spam__title" style="line-height: 2;">–¢–û–í ¬´–ù–í–ö ¬´–§–∞—Ä–º–∞—Å–∫–æ¬ª ‚Äì –ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫ –∑–∞—Å–æ–±—ñ–≤ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–ª—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –∑–∞–∫–ª–∞–¥—ñ–≤ –æ—Ö–æ—Ä–æ–Ω–∏ –∑–¥–æ—Ä–æ–≤‚Äô—è, –ª—ñ–∫–∞—Ä—ñ–≤ —Ç–∞ –ø–∞—Ü—ñ—î–Ω—Ç—ñ–≤.</h2>
          <!--<form class="spam__form">
            <label class="spam__label">
              <input class="spam__input" type="email" name="email" placeholder="E-mail" />
            </label>
            <button class="btn btn--spam" type="submit">–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è<a class="spam-link link" href="" target="_blank"
                rel="noopener noreferrer" aria-label="–∏–Ω—Å—Ç–∞–≥—Ä–∞–º –∏–∫–æ–Ω–∫–∞">
                <svg class="spam__icon" width="24px" height="24px">
                  <use href="./images/sprite.svg#icon-send"></use>
                </svg></a></button>
          </form>-->
        </div>
      </div>
    </div>
        <p id="currentUser" style="font-size: smaller; color: #666; text-align: center;"></p>
  </footer>
  <script src="./js/menu.js"></script>
  <script src="theme-toggle.js"></script>
  <script src="tracking.js"></script>
  <script src="validation.js"></script>
  <script src="user.js"></script>
  
<script>
  const productList = [
    { code: "obj1", name: "Biossays 240 Plus" },
    { code: "obj2", name: "DH36" },
    { code: "obj3", name: "DF50" },
    { code: "obj4", name: "UN73" },
    { code: "obj5", name: "VISION Pro" },
    { code: "obj6", name: "LS1100" },
    { code: "obj7", name: "CITOLAB Reader 300" },
    { code: "obj8", name: "MINI ISE" },
    { code: "obj9", name: "AFT-800G, AFT-800H" },
    { code: "obj10", name: "GCRYO-S¬Æ Painless" },
    { code: "obj14", name: "DP-C16" },
    { code: "obj15", name: "CA-1200" }, 
    { code: "obj16", name: "–ü—Ä–µ–∞–Ω–∞–ª—ñ—Ç–∏–∫–∞" },
    { code: "Test1", name: "ULTRA¬Æ" },
    { code: "Test2", name: "DUET¬Æ" },
    { code: "Test3", name: "SECRET¬Æ" },
    { code: "Test4", name: "SOLO mini¬Æ" },
    { code: "Test5", name: "CITOLAB‚Ñ¢ pH" },
    { code: "Test6", name: "Actim¬Æ PROM" },
    { code: "Test7", name: "CITO TEST¬Æ COVID-19 Ag" },
    { code: "Test8", name: "CITO TEST¬Æ –ì–†–ò–ü" },
    { code: "Test9", name: "CITO TEST¬Æ COMBO" },
    { code: "Test10", name: "CITO TEST¬Æ Strep –ê" },
    { code: "Test11", name: "Hospital group" },
    { code: "Test12", name: "CITO TEST¬Æ –ì–µ–ø–∞—Ç–∏—Ç –í —Ç–∞ –°" },
    { code: "Test13", name: "CITO TEST¬Æ ROTA" },
    { code: "Test14", name: "CITO TEST¬Æ –•–ï–õ–Ü–ö–û–ë–ê–ö–¢–ï–†" },
    { code: "Test15", name: "SNIPER¬Æ" },
    { code: "Test16", name: "CITOLAB‚Ñ¢ K" }
  ];
  window.addEventListener('DOMContentLoaded', () => {
    const managerSelect = document.getElementById('managerSelect');
    const employeeSelect = document.getElementById('employeeSelect');
    const currentUserElement = document.getElementById('currentUser');
    const currentManagerName = currentUserElement.textContent.trim();
    const dropdown = document.getElementById('productDropdown');
    const toggle = document.getElementById('dropdownToggle');
    const hiddenInput = document.getElementById('selectedProducts');
    const deadlineInput = document.getElementById('deadline');

    const currentManagerEmail = Object.keys(users).find(email => users[email] === currentManagerName);

    for (const [email, name] of Object.entries(users)) {
      if (managerToEmployees[email]) {
        const option = document.createElement('option');
        option.value = email;
        option.textContent = name;
        managerSelect.appendChild(option);
      }
    }

    if (currentManagerEmail && managerToEmployees[currentManagerEmail]) {
      managerSelect.value = currentManagerEmail;
      managerSelect.disabled = true;

      const employees = managerToEmployees[currentManagerEmail];
      employeeSelect.innerHTML = '';
      for (const email of employees) {
        const option = document.createElement('option');
        option.value = email;
        option.textContent = users[email];
        employeeSelect.appendChild(option);
      }
    }

    managerSelect.addEventListener('change', () => {
      const selectedManager = managerSelect.value;
      const employees = managerToEmployees[selectedManager] || [];
      employeeSelect.innerHTML = '';
      for (const email of employees) {
        const option = document.createElement('option');
        option.value = email;
        option.textContent = users[email];
        employeeSelect.appendChild(option);
      }
    });

    productList.forEach(product => {
      const label = document.createElement('label');
      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.value = product.code;
      checkbox.dataset.name = product.name;
      label.appendChild(checkbox);
      label.appendChild(document.createTextNode(' ' + product.name));
      dropdown.appendChild(label);
    });

    toggle.addEventListener('click', () => {
      dropdown.classList.toggle('hidden');
    });

    document.addEventListener('click', (e) => {
      if (!dropdown.contains(e.target) && e.target !== toggle) {
        dropdown.classList.add('hidden');
      }
    });

    dropdown.addEventListener('change', () => {
      const selected = Array.from(dropdown.querySelectorAll('input[type="checkbox"]:checked'));
      hiddenInput.value = selected.map(cb => cb.value).join(',');
      toggle.textContent = selected.length > 0
        ? `–û–±—Ä–∞–Ω–æ: ${selected.map(cb => cb.dataset.name).join(', ')}`
        : '–û–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏ ‚ñº';
    });

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–¥–ª–∞–π–Ω
    const today = new Date();
    const deadline = new Date(today);
    deadline.setDate(today.getDate() + 14);
    deadlineInput.value = deadline.toISOString().split('T')[0];
  });

  document.getElementById('trainingForm').addEventListener('submit', (event) => {
    event.preventDefault();

    const skill = document.getElementById('skill').value;
    const managerEmail = document.getElementById('managerSelect').value;
    const employeeEmail = document.getElementById('employeeSelect').value;
    const managerName = users[managerEmail];
    const employeeName = users[employeeEmail];

    const today = new Date();
    const deadlineDate = new Date(today);
    deadlineDate.setDate(today.getDate() + 14);
    const deadlineMinusOne = new Date(today);
    deadlineMinusOne.setDate(today.getDate() + 7);

    const deadlineStr = deadlineDate.toLocaleDateString('uk-UA');
    const deadlineMinusOneStr = deadlineMinusOne.toLocaleDateString('uk-UA');
    const todayStr = today.toLocaleDateString('uk-UA');

    const codes = document.getElementById('selectedProducts').value.split(',').filter(Boolean);
    const names = codes.map(code => {
      const p = productList.find(p => p.code === code);
      return p ? p.name : code;
    });

    if (codes.length > 10) {
      alert(`–ó–∞–±–∞–≥–∞—Ç–æ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ (${codes.length}). –ú–∞–∫—Å–∏–º—É–º 10.`);
      return;
    }

    const productLinks = codes.map((code, i) =>
      `üîπ https://gpavlik.github.io/farm_work/${code} (${names[i]})`
    ).join('\n');

    const subject = `–ù–∞–≤—á–∞–ª—å–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ${employeeName} –∑ –Ω–∞–≤–∏–∫—É ${skill} ${todayStr}`;
    const body = `–®–∞–Ω–æ–≤–Ω–∞(–∏–π) ${employeeName},

–ü—Ä–æ—à—É –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –Ω–∞–≤–∏–∫—É "${skill}" –¥–æ ${deadlineMinusOneStr}
üîπ https://mysite.ua/skills/${skill}

–¢–∞–∫–æ–∂ –∑–∞–≤–¥–∞–Ω–Ω—è –∑—ñ –∑–Ω–∞–Ω–Ω—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤:
${productLinks}
–î–µ–¥–ª–∞–π–Ω: ${deadlineStr}

–ó –ø–æ–≤–∞–≥–æ—é,
${managerName}`;

    const mailtoLink = `mailto:${employeeEmail}?cc=${managerEmail},trainer@pharmasco.com,head@pharmasco.com`
      + `&subject=${encodeURIComponent(subject)}`
      + `&body=${encodeURIComponent(body)}`;

    console.log("MAILTO:", mailtoLink);
    window.location.href = mailtoLink;
  });
</script>
</body>

</html>