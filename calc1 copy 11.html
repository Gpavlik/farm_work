<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ—Ç—Ä–µ–±–∏ —Ä–µ–∞–≥–µ–Ω—Ç—ñ–≤</title>
  <style>
    main { font-family: sans-serif; 
      padding: 20px; 
      max-width: 800px; 
      margin: auto;  
      margin-top: 150px; 
      background: #f0f0f0;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      display: flex;
    flex-direction: column;
    align-items: center;
    }
    .anBlock { margin-bottom: 15px; padding: 10px; border: 1px solid #ccc; border-radius: 6px; }
    label { display: block; margin-top: 8px; }
    button { margin-top: 10px; padding: 6px 12px; }
    #results { margin-top: 20px; background: #f9f9f9; padding: 15px; border-radius: 6px; }
    input{ width: 20%; padding: 5px; margin-top: 5px; border: 1px solid #ccc; border-radius: 10px; }
  </style>
  <link rel="stylesheet" href="./css/main.css" />
  <link rel="stylesheet" href="./css/styles.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
  <header class="header">
        <div class="container header__container">
      <h2 id="greetingMessage"></h2>
      <a class="logo" href="./index.html"><img src="./images/logo.svg" alt="logo" width="160"></a>
      <!--<ul class="nav">
        <li class="nav__referent"><a class="nav__link nav__link--active" href="./index.html">–ì–æ–ª–æ–≤–Ω–∞</a></li>
        <li class="nav__referent"><a class="nav__link" href="./portfolio.html">–ö—É—Ä—Å–∏</a></li>
        <li class="nav__referent"><a class="nav__link" href="https://pharmasco.com/contacts" target="_blank" rel="noopener noreferrer">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
      </ul>-->
      <ul class="contacts">
        <li class="contacts__contact">
          <a class="contacts__contact-mail " href="mailto:contact@pharmasco.com">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-envelope"></use>
            </svg>contact@pharmasco.com</a>
          </a>
        </li>
    <li class="contacts__contact">
          <a class="contacts__contact-phone " href="tel:+38 (044) 537-08-04">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (044) 537-08-04</a>
            <a class="contacts__contact-phone" style="margin-top: 8px;" href="tel:+38 (067) 500-82-74">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (067) 500-82-74</a>
        </li>
      </ul>
      
    </div>
    <button class="mobile-menu-btn" type="button" data-menu-button>
      <svg class="mobile-menu-icon" width="24" height="16">
        <use class="mobile-menu-burger" href="./images/sprite.svg#24-menu"></use>
        <use class="mobile-menu-close" href="./images/sprite.svg#icon-X"></use>
      </svg>
    </button>
    <div class="mobile-menu" data-menu>
      <ul class="mobile-menu-nav">
        <li class="mobile-menu-nav-item">
          <a class="link current" href="./index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
        </li>
        <li class="mobile-menu-nav-item">
          <a class="link" href="./portfolio.html">–ö—É—Ä—Å–∏</a>
        </li>
        <li class="mobile-menu-nav-item">
          <a class="link" href="/contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
        </li>
      </ul>
      <ul class="mobile-menu-contacts">
        <li class="contacts__contact">
          <a class="contacts__contact-phone " href="tel:+38 (044) 537-08-04">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (044) 537-08-04</a>
            <a class="contacts__contact-phone" style="margin-top: 8px;" href="tel:+38 (067) 500-82-74">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (067) 500-82-74</a>
        </li>
        <li class="mobile-menu-contacts-item">
          <a class="link" href="mailto:contact@pharmasco.com">contact@pharmasco.com</a>
        </li>
      </ul>
      <ul class="mobile-menu-socials">
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.instagram.com/pharmascocom/" target="_blank" rel="noopener noreferrer">Instagram</a>
        </li>
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.youtube.com/@Pharmasco" target="_blank" rel="noopener noreferrer">Youtube</a>
        </li>
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.facebook.com/Pharmasco/" target="_blank" rel="noopener noreferrer">Facebook</a>
        </li>
        
      </ul>
      
    </div>
    </header>
    <main>
  <h2 style="text-align: center;">üß™ –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ—Ç—Ä–µ–±–∏ —Ä–µ–∞–≥–µ–Ω—Ç—ñ–≤ —Ç–∞ —ó—Ö –≤–∞—Ä—Ç–æ—Å—Ç—ñ DP-C16</h2>
<label>üí∞ –¶—ñ–Ω–∞ –ø—Ä–∏–ª–∞–¥—É (–≥—Ä–Ω):</label><br>
<input type="number" id="deviceCost"><br>

<h3 style="margin-top: 20px;">–û–±–µ—Ä—ñ—Ç—å –∞–Ω–∞–ª—ñ–∑–∏:</h3>
<div id="checkboxList"></div>

  <li class="button"><button class="btn" onclick="calculate()">–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
  <button class="btn" onclick="copyReport()">–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
<button class="btn" type="button"><a style="text-decoration: none;" class="text__work" href="./obj14.html">–ù–∞–∑–∞–¥</a></button></li>
</ul>
<p style="color: #666; font-style: italic; text-align: center;" >–£—Å—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —î –æ—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–º–∏ —ñ –∑—Ä–æ–±–ª–µ–Ω—ñ –Ω–∞ –ø—ñ–¥—Å—Ç–∞–≤—ñ —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–∏–ª–∞–¥—É –ø—Ä–∏ —ñ–¥–µ–∞–ª—å–Ω–∏—Ö —É–º–æ–≤–∞—Ö —Ä–æ–±–æ—Ç–∏. –¢–æ–º—É –≤–∞—Ä—Ç—ñ—Å—Ç—å –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å –≤—ñ–¥ –¥—ñ—ó —Ä—ñ–∑–Ω–∏—Ö —Ñ–∞–∫—Ç–æ—Ä—ñ–≤, —Ç–∞–∫–∏—Ö —è–∫: –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–æ–± –≤ –¥–µ–Ω—å, –≤–∏–±—Ä–∞–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é —è–∫–æ—Å—Ç—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—î—é, —Ç–∞ —ñ–Ω—à.</p>   

<div id="results"></div>
</main>
  <footer class="footer">
    <div class="container">
      <div class="find-us">
        <div class="find">
          <a class="logo footer__logo" href="index.html"><img src="./images/logo.svg" alt="logo" width="200"></a>
          <ul class="contacts contacts--footer">
            <li class="contacts__contact contacts__contact--footer">
              <address class="contacts__post"><p>–£–∫—Ä–∞—ó–Ω–∞, –ö–∏—ó–≤—Å—å–∫–∞ –æ–±–ª.,</p> <p>–º. –í–∏—à–≥–æ—Ä–æ–¥,</p> <p>–≤—É–ª. –®–æ–ª—É–¥–µ–Ω–∫–∞, 15–≥</p></address>
            </li>
            <li class="contacts__contact contacts__contact--footer">
              <a class="contacts__contact-mail contacts__contact-mail--footer"
                href="mailto:contact@pharmasco.com">contact@pharmasco.com</a>
            </li>
            <li class="contacts__contact contacts__contact--footer">
              <a class="contacts__contact-phone contacts__contact-phone--footer" href="tel:+38 (044) 537-08-04">+38 (044) 537-08-04</a>
              <a class="contacts__contact-phone contacts__contact-phone--footer" href="tel:+38 (067) 500-82-74">+38 (067) 500-82-74</a>
            </li>
          </ul>
        </div>
        <div class="social social--footer">
          <h2 class="social__title">–ø—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å</h2>
          <ul class="social__list social__list--footer">
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.instagram.com/pharmascocom/" target="_blank" rel="noopener noreferrer"
                aria-label="–∏–Ω—Å—Ç–∞–≥—Ä–∞–º –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/sprite.svg#icon-instagram"></use>
                </svg></a>
            </li>
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.youtube.com/@Pharmasco" target="_blank" rel="noopener noreferrer"
                aria-label="—Ç–≤–∏—Ç—Ç–µ—Ä –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/uoytube.svg"></use>
                </svg></a>
            </li>
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.facebook.com/Pharmasco/" target="_blank" rel="noopener noreferrer"
                aria-label="—Ñ–µ–π—Å–±—É–∫ –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/sprite.svg#icon-facebook"></use>
                </svg></a> 
            </li>           
          </ul>
        </div>
        <div class="spam">
          <h2 class="spam__title" style="line-height: 2;">–¢–û–í ¬´–ù–í–ö ¬´–§–∞—Ä–º–∞—Å–∫–æ¬ª ‚Äì –ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫ –∑–∞—Å–æ–±—ñ–≤ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–ª—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –∑–∞–∫–ª–∞–¥—ñ–≤ –æ—Ö–æ—Ä–æ–Ω–∏ –∑–¥–æ—Ä–æ–≤‚Äô—è, –ª—ñ–∫–∞—Ä—ñ–≤ —Ç–∞ –ø–∞—Ü—ñ—î–Ω—Ç—ñ–≤.</h2>
          <!--<form class="spam__form">
            <label class="spam__label">
              <input class="spam__input" type="email" name="email" placeholder="E-mail" />
            </label>
            <button class="btn btn--spam" type="submit">–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è<a class="spam-link link" href="" target="_blank"
                rel="noopener noreferrer" aria-label="–∏–Ω—Å—Ç–∞–≥—Ä–∞–º –∏–∫–æ–Ω–∫–∞">
                <svg class="spam__icon" width="24px" height="24px">
                  <use href="./images/sprite.svg#icon-send"></use>
                </svg></a></button>
          </form>-->
        </div>
      </div>
    </div>
        <p id="currentUser" style="font-size: smaller; color: #666; text-align: center;"></p>
        <button id="scrollTopBtn" title="–î–æ –≥–æ—Ä–∏">‚¨Ü</button>
  </footer>

<script>

const reagents =[
  { name: "–ê–ª—å–±—É–º—ñ–Ω", volume: 120, price: 610.00, testsPerSet: 80, usagePerTest: 1.5 },
  { name: "–ê–õ–¢ –±. —É–ø.", volume: 250, price: 799.00, testsPerSet: 250, usagePerTest: 1.0 },
  { name: "–ê–õ–¢", volume: 250, price: 1337.00, testsPerSet: 250, usagePerTest: 1.0 },
  { name: "–ê–º—ñ–ª–∞–∑–∞", volume: 100, price: 4427.00, testsPerSet: 100, usagePerTest: 1.0 },
  { name: "–ê–°–¢", volume: 250, price: 1377.00, testsPerSet: 250, usagePerTest: 1.0 },
  { name: "–ê–°–¢ –±. —É–ø.", volume: 250, price: 817.00, testsPerSet: 250, usagePerTest: 1.0 },
  { name: "–ë—ñ–ª—ñ—Ä—É–±—ñ–Ω –ø—Ä—è–º–∏–π", volume: 250, price: 1001.00, testsPerSet: 167, usagePerTest: 1.5 },
  { name: "–ë—ñ–ª—ñ—Ä—É–±—ñ–Ω –∑–∞–≥–∞–ª—å–Ω–∏–π", volume: 250, price: 1492.00, testsPerSet: 167, usagePerTest: 1.5 },
  { name: "–ë—ñ–ª–æ–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π", volume: 200, price: 700.00, testsPerSet: 200, usagePerTest: 1.0 },
  { name: "–ë—ñ–ª–æ–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π –±. —É–ø.", volume: 1000, price: 954.00, testsPerSet: 1000, usagePerTest: 1.0 },
  { name: "–ì–ì–¢", volume: 150, price: 1256.00, testsPerSet: 150, usagePerTest: 1.0 },
  { name: "–ì–ª—ñ–∫–æ–≥–µ–º–æ–≥–ª–æ–±—ñ–Ω", volume: 40, price: 22086.00, testsPerSet: 40, usagePerTest: 1.0 },
  { name: "–†–æ–∑—á–∏–Ω –ª—ñ–∑—É—é—á–∏–π –¥–ª—è –≥–ª—ñ–∫–æ–≥–µ–º–æ–≥–ª–æ–±—ñ–Ω—É", volume: 100, price: 314.00, testsPerSet: 100, usagePerTest: 1.0 },
  { name: "–ì–ª—é–∫–æ–∑–∞", volume: 600, price: 1578.00, testsPerSet: 600, usagePerTest: 1.0 },
  { name: "–ì–ª—é–∫–æ–∑–∞ –±. —É–ø.", volume: 250, price: 495.00, testsPerSet: 250, usagePerTest: 1.0 },
  { name: "–ó–ó–ó–ó", volume: 100, price: 2158.00, testsPerSet: 100, usagePerTest: 1.0 },
  { name: "–ó–∞–ª—ñ–∑–æ", volume: 150, price: 885.00, testsPerSet: 150, usagePerTest: 1.0 },
  { name: "–ú–∞–≥–Ω—ñ–π —Ñ–µ—Ä–º.", volume: 120, price: 936.00, testsPerSet: 120, usagePerTest: 1.0 },
  { name: "–ú–∞–≥–Ω—ñ–π –∫—Å–∏–ª.", volume: 300, price: 1267.00, testsPerSet: 300, usagePerTest: 1.0 },
  { name: "–ö–∞–ª—ñ–π", volume: 120, price: 3662.00, testsPerSet: 120, usagePerTest: 1.0 },
  { name: "–ö–∞–ª—å—Ü—ñ–π (–ê—Ä—Å–µ–Ω–∞–∑–æ)", volume: 150, price: 853.00, testsPerSet: 150, usagePerTest: 1.0 },
  { name: "–í—ñ–ª—å–Ω–∏–π –∫–∞–ª—å—Ü—ñ–π", volume: 30, price: 545.00, testsPerSet: 30, usagePerTest: 1.0 },
  { name: "–ö—Ä–µ–∞—Ç–∏–Ω—ñ–Ω 300", volume: 300, price: 1148.00, testsPerSet: 300, usagePerTest: 1.0 },
  { name: "–ö—Ä–µ–∞—Ç–∏–Ω—ñ–Ω 600", volume: 600, price: 1506.00, testsPerSet: 600, usagePerTest: 1.0 },
  { name: "–õ–∞–∫—Ç–∞—Ç", volume: 50, price: 5719.00, testsPerSet: 50, usagePerTest: 1.0 },
  { name: "–õ–î–ì", volume: 60, price: 437.00, testsPerSet: 60, usagePerTest: 1.0 },
  { name: "–õ—ñ–ø–∞–∑–∞", volume: 48, price: 10494.00, testsPerSet: 40, usagePerTest: 1.2 },
  { name: "–õ—É–∂–Ω–∞ —Ñ–æ—Å—Ñ–∞—Ç–∞–∑–∞ DGKC", volume: 250, price: 1395.00, testsPerSet: 250, usagePerTest: 1.0 },
  { name: "–ù–∞—Ç—Ä—ñ–π", volume: 120, price: 18562.00, testsPerSet: 100, usagePerTest: 1.2 },
  { name: "–°–µ—á–æ–≤–∏–Ω–∞", volume: 250, price: 1339.00, testsPerSet: 250, usagePerTest: 1.0 },
  { name: "–°–µ—á–æ–≤–∞ –∫–∏—Å–ª–æ—Ç–∞", volume: 250, price: 1278.00, testsPerSet: 250, usagePerTest: 1.0 },
  { name: "–¢—Ä–∏–≥–ª—ñ—Ü–µ—Ä–∏–¥–∏", volume: 150, price: 1719.00, testsPerSet: 150, usagePerTest: 1.0 },
  { name: "–§–æ—Å—Ñ–æ—Ä", volume: 120, price: 607.00, testsPerSet: 120, usagePerTest: 1.0 },
  { name: "–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –∫–∞—Ä—Ç–æ–Ω", volume: 300, price: 1940.00, testsPerSet: 300, usagePerTest: 1.0 },
  { name: "–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –±–µ–∑ —É–ø.", volume: 250, price: 1130.00, testsPerSet: 250, usagePerTest: 1.0 },
  { name: "–õ–ü–í–©", volume: 80, price: 4674.00, testsPerSet: 80, usagePerTest: 1.0 },
  { name: "–õ–ü–ù–©", volume: 80, price: 8494.00, testsPerSet: 80, usagePerTest: 1.0 },
  { name: "–•–ª–æ—Ä–∏–¥–∏", volume: 180, price: 867.00, testsPerSet: 180, usagePerTest: 1.0 },
  { name: "–ê–Ω—Ç–∏—Å—Ç—Ä–µ–ø—Ç–æ–ª—ñ–∑–∏–Ω-–û", volume: 50, price: 54442.00, testsPerSet: 50, usagePerTest: 1.0 },
  { name: "–†–µ–≤–º–∞—Ç–æ—ó–¥–Ω–∏–π —Ñ–∞–∫—Ç–æ—Ä", volume: 50, price: 3865.00, testsPerSet: 50, usagePerTest: 1.0 },
  { name: "–° —Ä–µ–∞–∫—Ç–∏–≤–Ω–∏–π –±—ñ–ª–æ–∫", volume: 50, price: 4429.00, testsPerSet: 50, usagePerTest: 1.0 },
];

// –©–æ–¥–µ–Ω–Ω—ñ —Ä–µ–∞–≥–µ–Ω—Ç–∏ ‚Äî —Ç–µ–ø–µ—Ä –∑ —á–µ–∫–±–æ–∫—Å–∞–º–∏
const dailyReagents = [
  { name: "SERACAL", volume: 18, dailyUsage: 0.143, price: 7312 },
  { name: "SERACONTROL N", volume: 30, dailyUsage: 0.5, price: 8392 },
  { name: "SERACONTROL P", volume: 30, dailyUsage: 0.5, price: 9558 },
  { name: "–õ–üB–©/ –õ–ü–ù–© –∫–æ–Ω—Ç—Ä–æ–ª—å", volume: 9, dailyUsage: 0.3, price: 8978 },
  { name: "–õ–üB–©/ –õ–ü–ù–© –∫–∞–ª—ñ–±—Ä–∞—Ç–æ—Ä", volume: 3, dailyUsage: 0.048, price: 2462 },
  { name: "–ì–ª—ñ–∫–æ–≥–µ–º–æ–≥–ª–æ–±—ñ–Ω –∫–∞–ª—ñ–±—Ä–∞—Ç–æ—Ä–∏", volume: 2, dailyUsage: 0.024, price: 12014 },
  { name: "–ì–ª—ñ–∫–æ–≥–µ–º–æ–≥–ª–æ–±—ñ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å", volume: 20, dailyUsage: 0.25, price: 10949 },
  { name: "B—ñ–ª—å–Ω–∏–π –∫–∞–ª—å—Ü—ñ–π –ö–æ–Ω—Ç—Ä–æ–ª—å", volume: 20, dailyUsage: 0.5, price: 304 },
  { name: "–ù–∞—Ç—Ä—ñ–π –∫–æ–Ω—Ç—Ä–æ–ª—å", volume: 6, dailyUsage: 0.5, price: 98884 },
  { name: "–ê–°–û/–°–†–ë/–†–§ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–æ—Ä–º–∞", volume: 6, dailyUsage: 0.33, price: 19419 },
  { name: "–ê–°–û/–°–†–ë/–†–§ –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–∏—Å–æ–∫–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è ", volume: 3, dailyUsage: 0.33, price: 4107 },
];


const dailyReagentMap = {
  "SERACAL": ["–ê–ª—å–±—É–º—ñ–Ω","–ê–õ–¢ –±. —É–ø.","–ê–õ–¢","–ê–º—ñ–ª–∞–∑–∞","–ê–°–¢","–ê–°–¢ –±. —É–ø.","–ë—ñ–ª—ñ—Ä—É–±—ñ–Ω –ø—Ä—è–º–∏–π","–ë—ñ–ª—ñ—Ä—É–±—ñ–Ω –∑–∞–≥–∞–ª—å–Ω–∏–π","–ë—ñ–ª–æ–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π","–ë—ñ–ª–æ–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π –±. —É–ø.","–ì–ì–¢","–ì–ª—é–∫–æ–∑–∞","–ì–ª—é–∫–æ–∑–∞ –±. —É–ø.","–ó–ó–ó–ó","–ó–∞–ª—ñ–∑–æ","–ú–∞–≥–Ω—ñ–π —Ñ–µ—Ä–º.","–ú–∞–≥–Ω—ñ–π –∫—Å–∏–ª.","–ö–∞–ª—ñ–π","–ö–∞–ª—å—Ü—ñ–π (–ê—Ä—Å–µ–Ω–∞–∑–æ)","–ö—Ä–µ–∞—Ç–∏–Ω—ñ–Ω 300","–ö—Ä–µ–∞—Ç–∏–Ω—ñ–Ω 600","–õ–∞–∫—Ç–∞—Ç","–õ–î–ì","–õ—ñ–ø–∞–∑–∞","–õ—É–∂–Ω–∞ —Ñ–æ—Å—Ñ–∞—Ç–∞–∑–∞ DGKC","–°–µ—á–æ–≤–∏–Ω–∞","–°–µ—á–æ–≤–∞ –∫–∏—Å–ª–æ—Ç–∞","–¢—Ä–∏–≥–ª—ñ—Ü–µ—Ä–∏–¥–∏","–§–æ—Å—Ñ–æ—Ä","–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –∫–∞—Ä—Ç–æ–Ω","–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –±–µ–∑ —É–ø.","–õ–ü–í–©","–õ–ü–ù–©","–•–ª–æ—Ä–∏–¥–∏"],
  "SERACONTROL N": ["–ê–ª—å–±—É–º—ñ–Ω","–ê–õ–¢ –±. —É–ø.","–ê–õ–¢","–ê–º—ñ–ª–∞–∑–∞","–ê–°–¢","–ê–°–¢ –±. —É–ø.","–ë—ñ–ª—ñ—Ä—É–±—ñ–Ω –ø—Ä—è–º–∏–π","–ë—ñ–ª—ñ—Ä—É–±—ñ–Ω –∑–∞–≥–∞–ª—å–Ω–∏–π","–ë—ñ–ª–æ–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π","–ë—ñ–ª–æ–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π –±. —É–ø.","–ì–ì–¢","–ì–ª—é–∫–æ–∑–∞","–ì–ª—é–∫–æ–∑–∞ –±. —É–ø.","–ó–ó–ó–ó","–ó–∞–ª—ñ–∑–æ","–ú–∞–≥–Ω—ñ–π —Ñ–µ—Ä–º.","–ú–∞–≥–Ω—ñ–π –∫—Å–∏–ª.","–ö–∞–ª—ñ–π","–ö–∞–ª—å—Ü—ñ–π (–ê—Ä—Å–µ–Ω–∞–∑–æ)","–ö—Ä–µ–∞—Ç–∏–Ω—ñ–Ω 300","–ö—Ä–µ–∞—Ç–∏–Ω—ñ–Ω 600","–õ–∞–∫—Ç–∞—Ç","–õ–î–ì","–õ—ñ–ø–∞–∑–∞","–õ—É–∂–Ω–∞ —Ñ–æ—Å—Ñ–∞—Ç–∞–∑–∞ DGKC","–°–µ—á–æ–≤–∏–Ω–∞","–°–µ—á–æ–≤–∞ –∫–∏—Å–ª–æ—Ç–∞","–¢—Ä–∏–≥–ª—ñ—Ü–µ—Ä–∏–¥–∏","–§–æ—Å—Ñ–æ—Ä","–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –∫–∞—Ä—Ç–æ–Ω","–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –±–µ–∑ —É–ø.","–õ–ü–í–©","–õ–ü–ù–©","–•–ª–æ—Ä–∏–¥–∏"],
  "SERACONTROL P": ["–ê–ª—å–±—É–º—ñ–Ω","–ê–õ–¢ –±. —É–ø.","–ê–õ–¢","–ê–º—ñ–ª–∞–∑–∞","–ê–°–¢","–ê–°–¢ –±. —É–ø.","–ë—ñ–ª—ñ—Ä—É–±—ñ–Ω –ø—Ä—è–º–∏–π","–ë—ñ–ª—ñ—Ä—É–±—ñ–Ω –∑–∞–≥–∞–ª—å–Ω–∏–π","–ë—ñ–ª–æ–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π","–ë—ñ–ª–æ–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π –±. —É–ø.","–ì–ì–¢","–ì–ª—é–∫–æ–∑–∞","–ì–ª—é–∫–æ–∑–∞ –±. —É–ø.","–ó–ó–ó–ó","–ó–∞–ª—ñ–∑–æ","–ú–∞–≥–Ω—ñ–π —Ñ–µ—Ä–º.","–ú–∞–≥–Ω—ñ–π –∫—Å–∏–ª.","–ö–∞–ª—ñ–π","–ö–∞–ª—å—Ü—ñ–π (–ê—Ä—Å–µ–Ω–∞–∑–æ)","–ö—Ä–µ–∞—Ç–∏–Ω—ñ–Ω 300","–ö—Ä–µ–∞—Ç–∏–Ω—ñ–Ω 600","–õ–∞–∫—Ç–∞—Ç","–õ–î–ì","–õ—ñ–ø–∞–∑–∞","–õ—É–∂–Ω–∞ —Ñ–æ—Å—Ñ–∞—Ç–∞–∑–∞ DGKC","–°–µ—á–æ–≤–∏–Ω–∞","–°–µ—á–æ–≤–∞ –∫–∏—Å–ª–æ—Ç–∞","–¢—Ä–∏–≥–ª—ñ—Ü–µ—Ä–∏–¥–∏","–§–æ—Å—Ñ–æ—Ä","–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –∫–∞—Ä—Ç–æ–Ω","–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω –±–µ–∑ —É–ø.","–õ–ü–í–©","–õ–ü–ù–©","–•–ª–æ—Ä–∏–¥–∏"],
  "–õ–üB–©/ –õ–ü–ù–© –∫–æ–Ω—Ç—Ä–æ–ª—å": ["–õ–ü–í–©", "–õ–ü–ù–©"],
  "–õ–üB–©/ –õ–ü–ù–© –∫–∞–ª—ñ–±—Ä–∞—Ç–æ—Ä": ["–õ–ü–í–©", "–õ–ü–ù–©"],
  "–ì–ª—ñ–∫–æ–≥–µ–º–æ–≥–ª–æ–±—ñ–Ω –∫–∞–ª—ñ–±—Ä–∞—Ç–æ—Ä–∏": ["–ì–ª—ñ–∫–æ–≥–µ–º–æ–≥–ª–æ–±—ñ–Ω","–†–æ–∑—á–∏–Ω –ª—ñ–∑—É—é—á–∏–π –¥–ª—è –≥–ª—ñ–∫–æ–≥–µ–º–æ–≥–ª–æ–±—ñ–Ω—É"],
  "–ì–ª—ñ–∫–æ–≥–µ–º–æ–≥–ª–æ–±—ñ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å": ["–ì–ª—ñ–∫–æ–≥–µ–º–æ–≥–ª–æ–±—ñ–Ω","–†–æ–∑—á–∏–Ω –ª—ñ–∑—É—é—á–∏–π –¥–ª—è –≥–ª—ñ–∫–æ–≥–µ–º–æ–≥–ª–æ–±—ñ–Ω—É"],
  "B—ñ–ª—å–Ω–∏–π –∫–∞–ª—å—Ü—ñ–π –ö–æ–Ω—Ç—Ä–æ–ª—å": ["–í—ñ–ª—å–Ω–∏–π –∫–∞–ª—å—Ü—ñ–π"],
  "–ù–∞—Ç—Ä—ñ–π –∫–æ–Ω—Ç—Ä–æ–ª—å": ["–ù–∞—Ç—Ä—ñ–π"],
  "–ê–°–û/–°–†–ë/–†–§ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–æ—Ä–º–∞": ["–ê–Ω—Ç–∏—Å—Ç—Ä–µ–ø—Ç–æ–ª—ñ–∑–∏–Ω-–û", "–° —Ä–µ–∞–∫—Ç–∏–≤–Ω–∏–π –±—ñ–ª–æ–∫", "–†–µ–≤–º–∞—Ç–æ—ó–¥–Ω–∏–π —Ñ–∞–∫—Ç–æ—Ä"],
  "–ê–°–û/–°–†–ë/–†–§ –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–∏—Å–æ–∫–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è ": ["–ê–Ω—Ç–∏—Å—Ç—Ä–µ–ø—Ç–æ–ª—ñ–∑–∏–Ω-–û", "–° —Ä–µ–∞–∫—Ç–∏–≤–Ω–∏–π –±—ñ–ª–æ–∫", "–†–µ–≤–º–∞—Ç–æ—ó–¥–Ω–∏–π —Ñ–∞–∫—Ç–æ—Ä"]
};

const checkboxList = document.getElementById("checkboxList");
reagents.forEach((r, i) => {
  r.usagePerTest = +(r.volume / r.testsPerSet).toFixed(4);
  //if (excludedNames.includes(r.name)) return;

  const block = document.createElement("div");
  block.innerHTML = `
    <label><input type="checkbox" id="check_${i}" onchange="toggleInputs(${i})"> ${r.name}</label>
    <div id="inputs_${i}" style="display:none;">
      <label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∞–Ω–∞–ª—ñ–∑—ñ–≤ –Ω–∞ –¥–µ–Ω—å:</label>
      <input type="number" id="daily_${i}">
      <label>–¶—ñ–Ω–∞ –∞–Ω–∞–ª—ñ–∑—É –¥–ª—è –ø–∞—Ü—ñ—î–Ω—Ç–∞/–≤—ñ–¥—à–∫–æ–¥—É–≤–∞–Ω–Ω—è –ù–°–ó–£:</label>
      <input type="number" id="price_${i}">
    </div>`;
  checkboxList.appendChild(block);
});

function toggleInputs(i) {
  document.getElementById(`inputs_${i}`).style.display =
    document.getElementById(`check_${i}`).checked ? "block" : "none";
}

function calculate() {
  const deviceCost = +document.getElementById("deviceCost").value || 0;
  const workDays = { month: 21, quarter: 63, year: 252 };
  const now = new Date().toLocaleDateString('uk-UA');

  let totalTestsPerDay = 0;
  let totalDailyProfit = 0;
  let totalYearlyCost = 0;
  let report = `<p><strong>üìÜ –î–∞—Ç–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É:</strong> ${now}</p>`;

  // –û—Ç—Ä–∏–º—É—î–º–æ —ñ–Ω–¥–µ–∫—Å–∏ –æ–±—Ä–∞–Ω–∏—Ö —á–µ–∫–±–æ–∫—Å—ñ–≤
  const selectedIndexes = reagents.map((r, i) => {
    const check = document.getElementById(`check_${i}`);
    return check?.checked ? i : null;
  }).filter(i => i !== null);

  const selectedTestNames = selectedIndexes.map(i => reagents[i].name);

  // –ê–∫—Ç–∏–≤—É—î–º–æ —â–æ–¥–µ–Ω–Ω—ñ —Ä–µ–∞–≥–µ–Ω—Ç–∏, —è–∫—ñ –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ –∑ –æ–±—Ä–∞–Ω–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏
  const activeDailyReagents = Object.entries(dailyReagentMap).flatMap(([reagentName, testList]) => {
    const isUsed = testList.some(test =>
      selectedTestNames.some(name => name.trim().toLowerCase() === test.trim().toLowerCase())
    );
    if (!isUsed) return [];
    return dailyReagents.filter(r => r.name === reagentName);
  });

  // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤–∞—Ä—Ç–æ—Å—Ç—ñ —â–æ–¥–µ–Ω–Ω–∏—Ö —Ä–µ–∞–≥–µ–Ω—Ç—ñ–≤ –Ω–∞ –æ–¥–∏–Ω —Ç–µ—Å—Ç
  activeDailyReagents.forEach(r => {
    const relatedTests = dailyReagentMap[r.name].map(t => t.trim().toLowerCase());
    const totalRelatedTestCount = selectedIndexes.reduce((sum, i) => {
      const count = +document.getElementById(`daily_${i}`).value || 0;
      const testName = reagents[i].name.trim().toLowerCase();
      return relatedTests.includes(testName) ? sum + count : sum;
    }, 0);

    r._costPerTest = totalRelatedTestCount > 0
      ? +(r.price * r.dailyUsage / r.volume / totalRelatedTestCount).toFixed(4)
      : 0;
    r._totalCost = +(r.price * r.dailyUsage / r.volume).toFixed(2);
  });

  // –û—Å–Ω–æ–≤–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ –∫–æ–∂–Ω–æ–º—É –æ–±—Ä–∞–Ω–æ–º—É —Ç–µ—Å—Ç—É
  selectedIndexes.forEach(i => {
    const r = reagents[i];
    const count = +document.getElementById(`daily_${i}`).value || 0;
    const patientPrice = +document.getElementById(`price_${i}`).value || 0;

    totalTestsPerDay += count;

    const reagentPerTestCost = +(r.price * r.usagePerTest / r.volume).toFixed(2);

    let dailyReagentCostForThisTest = 0;
    activeDailyReagents.forEach(dr => {
      const relatedTests = dailyReagentMap[dr.name].map(t => t.trim().toLowerCase());
      if (relatedTests.includes(r.name.trim().toLowerCase())) {
        dailyReagentCostForThisTest += +(dr._costPerTest || 0);
      }
    });

    const costPerTest = +(reagentPerTestCost + dailyReagentCostForThisTest).toFixed(2);
    const profitPerTest = +(patientPrice - costPerTest).toFixed(2);
    const dailyProfit = +(profitPerTest * count).toFixed(2);
    totalDailyProfit += dailyProfit;

    let periodCosts = {};
    Object.entries(workDays).forEach(([label, days]) => {
      const totalVolume = r.usagePerTest * count * days;
      const flacons = Math.ceil(totalVolume / r.volume);
      const cost = flacons * r.price;
      periodCosts[label] = { flacons, cost };
      if (label === "year") totalYearlyCost += cost;
    });

    report += `<h4>${r.name}</h4><ul>
      <li>–°–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å —Ç–µ—Å—Ç—É –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —â–æ–¥–µ–Ω–Ω–∏—Ö —Ä–µ–∞–≥–µ–Ω—Ç—ñ–≤: ${costPerTest} –≥—Ä–Ω</li>
      <li>–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤ –Ω–∞ –¥–µ–Ω—å: ${count}</li>
      <li>–¶—ñ–Ω–∞ –¥–ª—è –ø–∞—Ü—ñ—î–Ω—Ç–∞: ${patientPrice} –≥—Ä–Ω</li>
      <li>–î–æ–±–æ–≤–∏–π –ø—Ä–∏–±—É—Ç–æ–∫: ${dailyProfit} –≥—Ä–Ω</li>
      <li>üì¶ –ó–∞–∫—É–ø—ñ–≤–ª—è –Ω–∞ –ø–µ—Ä—ñ–æ–¥–∏:
        <ul>
          ${Object.entries(periodCosts).map(([label, obj]) =>
            `<li>${label.charAt(0).toUpperCase() + label.slice(1)}: ${obj.flacons} —É–ø–∞–∫–æ–≤–æ–∫ / ${obj.cost} –≥—Ä–Ω</li>`
          ).join("")}
        </ul>
      </li>
    </ul>`;
  });

  // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —â–æ–¥–µ–Ω–Ω–∏—Ö —Ä–µ–∞–≥–µ–Ω—Ç—ñ–≤
  report += `<hr><h3>üß™ –©–æ–¥–µ–Ω–Ω—ñ —Ä–µ–∞–≥–µ–Ω—Ç–∏</h3><ul>`;
  activeDailyReagents.forEach(r => {
    let periodCosts = {};
    Object.entries(workDays).forEach(([label, days]) => {
      const totalVolume = r.dailyUsage * days;
      const flacons = Math.ceil(totalVolume / r.volume);
      const cost = flacons * r.price;
      periodCosts[label] = { flacons, cost };
      if (label === "year") totalYearlyCost += cost;
    });

    report += `<li><strong>${r.name}</strong>
      <ul>
        ${Object.entries(periodCosts).map(([label, obj]) =>
          `<li>${label.charAt(0).toUpperCase() + label.slice(1)}: ${obj.flacons} —É–ø–∞–∫–æ–≤–æ–∫ / ${obj.cost} –≥—Ä–Ω</li>`
        ).join("")}
      </ul>
    </li>`;
  });
  report += `</ul>`;

  // –ü—ñ–¥—Å—É–º–∫–∏
  const yearlyProfitGross = +(totalDailyProfit * workDays.year).toFixed(2);
  const yearlyProfitNet = +(yearlyProfitGross - deviceCost).toFixed(2);
  const paybackDays = totalDailyProfit > 0 ? Math.ceil(deviceCost / totalDailyProfit) : "‚àû";

  report += `<hr><h3>üìä –ó–∞–≥–∞–ª—å–Ω—ñ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏</h3><ul>
    <li>–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤: ${totalTestsPerDay} –Ω–∞ –¥–µ–Ω—å</li>
    <li>–°—É–º–∞—Ä–Ω–∏–π –ø—Ä–∏–±—É—Ç–æ–∫ –Ω–∞ –¥–µ–Ω—å: ${totalDailyProfit.toFixed(2)} –≥—Ä–Ω</li>
    <li>–û–∫—É–ø–Ω—ñ—Å—Ç—å –ø—Ä–∏–ª–∞–¥—É: ${paybackDays} —Ä–æ–±–æ—á–∏—Ö –¥–Ω—ñ–≤</li>
    <li>–ß–∏—Å—Ç–∏–π —Ä—ñ—á–Ω–∏–π –ø—Ä–∏–±—É—Ç–æ–∫: ${yearlyProfitNet} –≥—Ä–Ω</li><br>
    <li>–£—Å—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —î –æ—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–º–∏ —ñ –∑—Ä–æ–±–ª–µ–Ω—ñ –Ω–∞ –ø—ñ–¥—Å—Ç–∞–≤—ñ —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–∏–ª–∞–¥—É –ø—Ä–∏ —ñ–¥–µ–∞–ª—å–Ω–∏—Ö —É–º–æ–≤–∞—Ö —Ä–æ–±–æ—Ç–∏. –¢–æ–º—É –≤–∞—Ä—Ç—ñ—Å—Ç—å –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø—Ä–æ–±, –æ–±—Ä–∞–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é —è–∫–æ—Å—Ç—ñ, —Ç–∞ —ñ–Ω—à–∏—Ö —Ñ–∞–∫—Ç–æ—Ä—ñ–≤.</li><br>
  </ul>`;

  document.getElementById("results").innerHTML = report;
}


function copyReport() {
  const text = document.getElementById("results").innerText;
  navigator.clipboard.writeText(text)
    .then(() => alert("–ó–≤—ñ—Ç —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ"))
    .catch(() => alert("‚ö†Ô∏è –ù–µ –≤–¥–∞–ª–æ—Å—è —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏"));
}
</script>
</body>

</html>