<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–∫—É–ø–Ω–æ—Å—Ç—ñ –∑–Ω–∏–∂–æ–∫</title>
  <style>
    
    input { padding: 6px; width: 100%; margin: 5px 0; }
    label { display: block; margin-top: 10px; }
    .highlight { background-color: #e6ffe6; border-left: 5px solid #4CAF50; padding-left: 10px; margin-top: 15px; }
    .warning { color: #b71c1c; font-weight: bold; }
    .result { background: #f9f9f9; padding: 15px; border-radius: 5px; margin-top: 20px; }
    canvas { margin-top: 30px; }
  </style>
  <LSink rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&family=Roboto:wght@400;500;700;900&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/1.1.0/modern-normalize.css"
    integrity="sha512-Y0MM+V6ymRKN2zStTqzQ227DWhhp4Mzdo6gnlRnuaNCbc+YN/ZH0sBCLTM4M0oSy9c9VKiCvd4Jk44aCLrNS5Q=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="./css/main.css" />
  <link rel="stylesheet" href="./css/styles.css">

<!-- Google tag (gtag.js) -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-5BZZCV5DRK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag("js", new Date());
  gtag("config", "G-5BZZCV5DRK");
</script>
<script>
  const email = localStorage.getItem("allowedEmail");
  if (email) {
    gtag("set", "user_properties", {
      user_id: email
    });
  }
</script>
<script>
  function sha256(input) {
    const encoder = new TextEncoder();
    const data = encoder.encode(input);
    return crypto.subtle.digest("SHA-256", data).then(hash => {
      return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');
    });
  }
</script>
</head>
<body>
  <header class="header">
    <div class="container header__container">
      <a class="logo" href="./index.html"><img src="./images/logo.svg" alt="logo" width="160"></a>
      <!--<ul class="nav">
        <li class="nav__referent"><a class="nav__link" href="./index.html">–ì–æ–ª–æ–≤–Ω–∞</a></li>
        <li class="nav__referent"><a class="nav__link nav__link--active" href="./portfolio.html">–ö—É—Ä—Å–∏</a></li>
        <li class="nav__referent"><a class="nav__link" href="https://pharmasco.com/contacts" target="_blank" rel="noopener noreferrer">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
      </ul>-->
      <ul class="contacts">
        <li class="contacts__contact">
          <a class="contacts__contact-mail " href="mailto:contact@pharmasco.com">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-envelope"></use>
            </svg>contact@pharmasco.com</a>
          </a>
        </li>
       <li class="contacts__contact">
          <a class="contacts__contact-phone " href="tel:+38 (044) 537-08-04">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (044) 537-08-04</a>
            <a class="contacts__contact-phone" style="margin-top: 8px;" href="tel:+38 (067) 500-82-74">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (067) 500-82-74</a>
        </li>
      </ul>
    </div>
    <button class="mobile-menu-btn" type="button" data-menu-button>
      <svg class="mobile-menu-icon" width="24" height="16">
        <use class="mobile-menu-burger" href="./images/sprite.svg#24-menu"></use>
        <use class="mobile-menu-close" href="./images/sprite.svg#icon-X"></use>
      </svg>
    </button>
    <div class="mobile-menu" data-menu>
      <!--<ul class="mobile-menu-nav">
        <li class="mobile-menu-nav-item">
          <a class="link " href="./index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
        </li>
        <li class="mobile-menu-nav-item">
          <a class="link current" href="./portfolio.html">–ö—É—Ä—Å–∏</a>
        </li>
        <li class="mobile-menu-nav-item">
          <a class="link" href="/contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
        </li>
      </ul>-->
      <ul class="mobile-menu-contacts">
        <li class="contacts__contact">
          <a class="contacts__contact-phone " href="tel:+38 (044) 537-08-04">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (044) 537-08-04</a>
            <a class="contacts__contact-phone" style="margin-top: 8px;" href="tel:+38 (067) 500-82-74">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (067) 500-82-74</a>
        </li>
        <li class="mobile-menu-contacts-item">
          <a class="link" href="mailto:contact@pharmasco.com">contact@pharmasco.com</a>
        </li>
      </ul>
      <ul class="mobile-menu-socials">
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.instagram.com/pharmascocom/" target="_blank" rel="noopener noreferrer">Instagram</a>
        </li>
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.youtube.com/@Pharmasco" target="_blank" rel="noopener noreferrer">Youtube</a>
        </li>
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.facebook.com/Pharmasco/" target="_blank" rel="noopener noreferrer">Facebook</a>
        </li>
      </ul>
    </div>
  </header>
  <main>
    <section class="works">
      <div class="container">
  <h2 style="text-align: center;">üìä –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–∫—É–ø–Ω–æ—Å—Ç—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π –∑–Ω–∏–∂–æ–∫</h2>

  <label>–°–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å –æ–¥–∏–Ω–∏—Ü—ñ (‚Ç¥):</label>
  <input type="number" id="cost" placeholder="–ù–∞–ø—Ä. 5000" />
  <label>–ë–∞–∑–æ–≤–∞ —Ü—ñ–Ω–∞ –ø—Ä–æ–¥–∞–∂—É (‚Ç¥):</label>
  <input type="number" id="basePrice" placeholder="–ù–∞–ø—Ä. 8500" />
  <label>–ü–æ—Ç–æ—á–Ω–∏–π –æ–±—Å—è–≥ –ø—Ä–æ–¥–∞–∂—ñ–≤ (—à—Ç):</label>
  <input type="number" id="volume" placeholder="–ù–∞–ø—Ä. 10" />
  <label>–û—á—ñ–∫—É–≤–∞–Ω–µ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è –ø—Ä–∏ –∑–Ω–∏–∂—Ü—ñ 0%:</label>
  <input type="number" id="growth0" placeholder="–ù–∞–ø—Ä. 0" />
  <label>–û—á—ñ–∫—É–≤–∞–Ω–µ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è –ø—Ä–∏ –∑–Ω–∏–∂—Ü—ñ 10%:</label>
  <input type="number" id="growth10" placeholder="–ù–∞–ø—Ä. 15" />
  <label>–û—á—ñ–∫—É–≤–∞–Ω–µ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è –ø—Ä–∏ –∑–Ω–∏–∂—Ü—ñ 20%:</label>
  <input type="number" id="growth20" placeholder="–ù–∞–ø—Ä. 30" />
  <label>–û—á—ñ–∫—É–≤–∞–Ω–µ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è –ø—Ä–∏ –∑–Ω–∏–∂—Ü—ñ 30%:</label>
  <input type="number" id="growth30" placeholder="–ù–∞–ø—Ä. 50" />

  <button style="margin-top: 10px;" class="btn" onclick="calculate()">üîç –ü–æ—Ä—ñ–≤–Ω—è—Ç–∏</button>
   <button class="btn" onclick="window.location.href='./trening17.html'">–ù–∞–∑–∞–¥</button>
  <div class="result" id="output"></div>
  <canvas id="chart" height="230"></canvas>
      </div>
</section>
  </main>
  <footer class="footer">
    <div class="container">
      <div class="find-us">
        <div class="find">
          <a class="logo footer__logo" href="/"><img src="./images/logo.svg" alt="logo" width="160"></a>
          <ul class="contacts contacts--footer">
            <li class="contacts__contact contacts__contact--footer">
              <address class="contacts__post"><p>–£–∫—Ä–∞—ó–Ω–∞, –ö–∏—ó–≤—Å—å–∫–∞ –æ–±–ª.,</p> <p>–º. –í–∏—à–≥–æ—Ä–æ–¥,</p> <p>–≤—É–ª. –®–æ–ª—É–¥–µ–Ω–∫–∞, 15–≥</p></address>
            </li>
            <li class="contacts__contact contacts__contact--footer">
              <a class="contacts__contact-mail contacts__contact-mail--footer"
                href="mailto:contact@pharmasco.com">contact@pharmasco.com</a>
            </li>
            <li class="contacts__contact contacts__contact--footer">
              <a class="contacts__contact-phone contacts__contact-phone--footer" href="tel:+38 (044) 537-08-04">+38 (044) 537-08-04</a>
              <a class="contacts__contact-phone contacts__contact-phone--footer" href="tel:+38 (067) 500-82-74">+38 (067) 500-82-74</a>
            </li>
          </ul>
        </div>
        <div class="social social--footer">
          <h2 class="social__title">–ø—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å</h2>
          <ul class="social__list social__list--footer">
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.instagram.com/pharmascocom/" target="_blank" rel="noopener noreferrer"
                aria-label="–∏–Ω—Å—Ç–∞–≥—Ä–∞–º –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/sprite.svg#icon-instagram"></use>
                </svg></a>
            </li>
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.youtube.com/@Pharmasco" target="_blank" rel="noopener noreferrer"
                aria-label="—Ç–≤–∏—Ç—Ç–µ—Ä –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/uoytube.svg"></use>
                </svg></a>
            </li>
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.facebook.com/Pharmasco/" target="_blank" rel="noopener noreferrer"
                aria-label="—Ñ–µ–π—Å–±—É–∫ –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/sprite.svg#icon-facebook"></use>
                </svg></a> 
            </li>       
          </ul>
        </div>
        <div class="spam">
          <h2 class="spam__title" style="line-height: 2;">–¢–û–í ¬´–ù–í–ö ¬´–§–∞—Ä–º–∞—Å–∫–æ¬ª ‚Äì –ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫ –∑–∞—Å–æ–±—ñ–≤ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–ª—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –∑–∞–∫–ª–∞–¥—ñ–≤ –æ—Ö–æ—Ä–æ–Ω–∏ –∑–¥–æ—Ä–æ–≤‚Äô—è, –ª—ñ–∫–∞—Ä—ñ–≤ —Ç–∞ –ø–∞—Ü—ñ—î–Ω—Ç—ñ–≤.</h2>
          <!--<form class="spam__form">
            <label class="spam__label">
              <input class="spam__input" type="email" name="email" placeholder="E-mail" />
            </label>
            <button class="btn btn--spam" type="submit">–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è<a class="spam-link link" href="" target="_blank"
                rel="noopener noreferrer" aria-label="–∏–Ω—Å—Ç–∞–≥—Ä–∞–º –∏–∫–æ–Ω–∫–∞">
                <svg class="spam__icon" width="24px" height="24px">
                  <use href="./images/sprite.svg#icon-send"></use>
                </svg></a></button>
          </form>-->
        </div>
      </div>
    </div>
        <p id="currentUser" style="font-size: smaller; color: #666; text-align: center;"></p>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    let chartInstance = null;

    function format(num) {
      return num.toLocaleString('uk-UA', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    }

    function calculateRecovery(baseProfit, marginPerUnit) {
      if (marginPerUnit <= 0) return Infinity;
      return Math.ceil(baseProfit / marginPerUnit);
    }

    function calculate() {
      const cost = parseFloat(document.getElementById('cost').value);
      const basePrice = parseFloat(document.getElementById('basePrice').value);
      const volume = parseFloat(document.getElementById('volume').value);
      const growths = [
        parseFloat(document.getElementById('growth0').value),
        parseFloat(document.getElementById('growth10').value),
        parseFloat(document.getElementById('growth20').value),
        parseFloat(document.getElementById('growth30').value)
      ];

      if ([cost, basePrice, volume, ...growths].some(isNaN)) {
        document.getElementById('output').innerHTML = "‚ùó –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è.";
        return;
      }

      const discounts = [0, 10, 20, 30];
      const baseProfit = (basePrice - cost) * volume;
      let strategies = [];

      discounts.forEach((discount, i) => {
        const price = basePrice * (1 - discount / 100);
        const growth = growths[i];
        const vol = Math.floor(volume * (1 + growth / 100));
        const margin = price - cost;
        const marginPercent = (margin / price) * 100;
        const profit = margin * vol;
        const recoveryVolume = calculateRecovery(baseProfit, margin);
        const isRecovered = profit >= baseProfit;

        strategies.push({
          name: `${discount}%`,
          discount,
          price,
          volume: vol,
          margin,
          marginPercent,
          profit,
          recoveryVolume,
          isRecovered
        });
      });

      document.getElementById('output').innerHTML = strategies.map(s => {
        let extra = "";
        if (!s.isRecovered) {
          extra += `<div class="warning">‚ö†Ô∏è –ü—Ä–∏–±—É—Ç–æ–∫ –Ω–∏–∂—á–∏–π –∑–∞ –±–∞–∑–æ–≤–∏–π (${format(s.profit)} < ${format(baseProfit)})</div>`;
        } else {
          extra += `<div><b>‚úÖ –û–∫—É–ø–Ω—ñ—Å—Ç—å –¥–æ—Å—è–≥–Ω—É—Ç–∞</b></div>`;
        }

        return `
          <div class="${s.isRecovered ? 'highlight' : ''}">
            <b>–°—Ç—Ä–∞—Ç–µ–≥—ñ—è –∑–Ω–∏–∂–∫–∏ ${s.name}</b><br/>
            ‚û§ –¶—ñ–Ω–∞: ‚Ç¥${format(s.price)}<br/>
            ‚û§ –ú–∞—Ä–∂–∞: ‚Ç¥${format(s.margin)} (${s.marginPercent.toFixed(1)}%)<br/>
            ‚û§ –û—á—ñ–∫—É–≤–∞–Ω–∏–π –æ–±—Å—è–≥: ${s.volume.toLocaleString('uk-UA')} —à—Ç<br/>
            ‚û§ –ü—Ä–∏–±—É—Ç–æ–∫: ‚Ç¥${format(s.profit)}<br/>
            ‚û§ –î–ª—è –æ–∫—É–ø–Ω–æ—Å—Ç—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ: ${s.recoveryVolume.toLocaleString('uk-UA')} —à—Ç<br/>
            ${extra}
          </div>
        `;
      }).join('');

      const ctx = document.getElementById('chart').getContext('2d');
      if (chartInstance) chartInstance.destroy();

      chartInstance = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: strategies.map(s => s.name),
          datasets: [
            {
              label: '–ü—Ä–∏–±—É—Ç–æ–∫ (‚Ç¥)',
              data: strategies.map(s => s.profit),
              backgroundColor: strategies.map(s => s.isRecovered ? '#4CAF50' : '#ccc')
            },
            {
              label: '–û–∫—É–ø–Ω—ñ—Å—Ç—å –∑–Ω–∏–∂–∫–∏ (—à—Ç)',
              data: strategies.map(s => s.recoveryVolume),
              backgroundColor: '#E91E63'
            },
            {
              label: '–û—á—ñ–∫—É–≤–∞–Ω–∏–π –æ–±—Å—è–≥ –ø—Ä–æ–¥–∞–∂—ñ–≤ (—à—Ç)',
              data: strategies.map(s => s.volume),
              backgroundColor: '#2196F3'
            }
          ]
        },
        options: {
          scales: {
            y: { beginAtZero: true }
          },
          plugins: {
            tooltip: {
              callbacks: {
                label: ctx => `${ctx.dataset.label}: ${ctx.raw.toLocaleString('uk-UA')}`
              }
            },
            legend: { position: 'top' }
          }
        }
      });
    }
  </script>
</body>
</html>
