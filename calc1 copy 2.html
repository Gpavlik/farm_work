<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∞–Ω–∞–ª—ñ–∑—ñ–≤</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #f7f9fc;
      color: #333;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #2a6bbf;
    }
    section {
      background-color: #fff;
      border: 1px solid #ccddee;
      border-radius: 8px;
      padding: 15px 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    h2 {
      color: #1763aa;
    }
    label {
      display: block;
      margin: 8px 0;
    }
    input {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #bbcce0;
      border-radius: 4px;
    }
    button {
      padding: 10px 16px;
      margin-top: 10px;
      margin-right: 10px;
      background-color: #2a6bbf;
      color: #fff;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background-color: #1f4e8c;
    }
    #results {
      padding: 10px;
      background-color: #eef3fa;
      border-radius: 20px;
      border: 1px dashed #a3bcd6;
      white-space: pre-wrap;
      font-family: "Courier New", monospace;
    }
  </style>
</head>
<body>

<h1>üìä –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤–∞—Ä—Ç–æ—Å—Ç—ñ –∞–Ω–∞–ª—ñ–∑—ñ–≤</h1>

<section>
  <h2>üî¨ –î–∞–Ω—ñ –ø–æ –∞–Ω–∞–ª—ñ–∑–∞—Ö</h2>
  <label>–ì–ª—é–∫–æ–∑–∞ ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å/–¥–µ–Ω—å: <input type="number" id="glucoseVolume"></label>
  <label>–ì–ª—é–∫–æ–∑–∞ ‚Äî —Ü—ñ–Ω–∞ (–≥—Ä–Ω)/–ö–æ–º–ø–µ–Ω—Å–∞—Ü—ñ—è –ù–¶–ó–£: <input type="number" id="glucosePrice"></label>
  <label>–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å/–¥–µ–Ω—å: <input type="number" id="cholesterolVolume"></label>
  <label>–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω ‚Äî —Ü—ñ–Ω–∞ (–≥—Ä–Ω)/–ö–æ–º–ø–µ–Ω—Å–∞—Ü—ñ—è –ù–¶–ó–£: <input type="number" id="cholesterolPrice"></label>
</section>

<section>
  <h2>‚öôÔ∏è –í–∞—Ä—Ç—ñ—Å—Ç—å –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è</h2>
  <label>–í–∞—Ä—Ç—ñ—Å—Ç—å –ø—Ä–∏–ª–∞–¥—É (–≥—Ä–Ω): <input type="number" id="deviceCost"></label>
</section>

<button id="calculateBtn">üî¢ –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏</button>

<section>
  <h2>üìÑ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏</h2>
  <div id="results"></div>
  <!--<input type="email" id="emailAddress" placeholder="Email –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è">-->
  <button id="copyBtn">üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏</button>
  <!--<button id="emailBtn">üìß –ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>-->
</section>
 ,,,,,,,,,









































 
<script>
  const reagents = {
    'R1': { name: '–†–µ–∞–≥–µ–Ω—Ç A', cost: 1200, volume: 5000 },
    'R2': { name: '–†–µ–∞–≥–µ–Ω—Ç B', cost: 800, volume: 3000 },
  };

  const analyses = {
    'glucose': {
      name: '–ì–ª—é–∫–æ–∑–∞',
      reagentsUsed: { 'R1': 5, 'R2': 2 },
      priceId: 'glucosePrice',
      volumeId: 'glucoseVolume',
    },
    'cholesterol': {
      name: '–•–æ–ª–µ—Å—Ç–µ—Ä–∏–Ω',
      reagentsUsed: { 'R2': 4 },
      priceId: 'cholesterolPrice',
      volumeId: 'cholesterolVolume',
    }
  };

  document.getElementById("calculateBtn").addEventListener("click", () => {
    const deviceCost = parseFloat(document.getElementById("deviceCost").value) || 0;
    const workingDays = 21;
    const today = new Date();
    const dateStr = today.toLocaleDateString('uk-UA');
    let resultLines = [];
    let totalMonthlyProfit = 0;
    let totalMonthlyReagents = 0;
    let reagentUsage = {};
    for (let id in reagents) reagentUsage[id] = 0;

    for (let key in analyses) {
      const a = analyses[key];
      const price = parseFloat(document.getElementById(a.priceId).value) || 0;
      const dailyVolume = parseInt(document.getElementById(a.volumeId).value) || 0;
      if (!price || !dailyVolume) continue;

      const monthlyVolume = dailyVolume * workingDays;
      let costPerAnalysis = 0;

      for (let r in a.reagentsUsed) {
        const ml = a.reagentsUsed[r];
        costPerAnalysis += ml * (reagents[r].cost / reagents[r].volume);
        reagentUsage[r] += ml * monthlyVolume;
      }

      const profitPerAnalysis = price - costPerAnalysis;
      const reagentCostMonth = Object.entries(a.reagentsUsed).reduce((sum, [r, ml]) => {
        return sum + Math.ceil((ml * monthlyVolume) / reagents[r].volume) * reagents[r].cost;
      }, 0);

      const profitMonth = profitPerAnalysis * monthlyVolume;
      totalMonthlyProfit += profitMonth;
      totalMonthlyReagents += reagentCostMonth;

      resultLines.push(`
üî¨ ${a.name}:
‚Ä¢ –ö—ñ–ª—å–∫—ñ—Å—Ç—å/–¥–µ–Ω—å: ${dailyVolume}
‚Ä¢ –¶—ñ–Ω–∞: ${price.toFixed(2)} –≥—Ä–Ω
‚Ä¢ –°–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å —Ä–µ–∞–≥–µ–Ω—Ç—ñ–≤: ${costPerAnalysis.toFixed(2)} –≥—Ä–Ω
‚Ä¢ –ü—Ä–∏–±—É—Ç–æ–∫ –∑ –æ–¥–Ω–æ–≥–æ: ${profitPerAnalysis.toFixed(2)} –≥—Ä–Ω
‚Ä¢ –í–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ —Ä–µ–∞–≥–µ–Ω—Ç–∏/–º—ñ—Å: ${reagentCostMonth.toFixed(2)} –≥—Ä–Ω
‚Ä¢ –ü—Ä–∏–±—É—Ç–æ–∫/–º—ñ—Å: ${profitMonth.toFixed(2)} –≥—Ä–Ω
      `);
    }

    const reagentBreakdown = Object.entries(reagentUsage).map(([rId, mlMonth]) => {
      const reagent = reagents[rId];
      const mlQuarter = mlMonth * 3;
      const mlYear = mlMonth * 12;

      const bottlesMonth = Math.ceil(mlMonth / reagent.volume);
      const bottlesQuarter = Math.ceil(mlQuarter / reagent.volume);
      const bottlesYear = Math.ceil(mlYear / reagent.volume);

      const costMonth = bottlesMonth * reagent.cost;
      const costQuarter = bottlesQuarter * reagent.cost;
      const costYear = bottlesYear * reagent.cost;

      const dailyML = mlMonth / workingDays;
      const daysPerBottle = dailyML > 0 ? Math.floor(reagent.volume / dailyML) : '‚Äì';

      return `üíâ ${reagent.name}:
‚Ä¢ –ù–∞ –º—ñ—Å—è—Ü—å: ${mlMonth.toFixed(2)} –º–ª ‚Üí ${bottlesMonth} —Ñ–ª–∞–∫–æ–Ω—ñ–≤ ‚Üí ${costMonth.toFixed(2)} –≥—Ä–Ω
‚Ä¢ –ù–∞ –∫–≤–∞—Ä—Ç–∞–ª: ${mlQuarter.toFixed(2)} –º–ª ‚Üí ${bottlesQuarter} —Ñ–ª–∞–∫–æ–Ω—ñ–≤ ‚Üí ${costQuarter.toFixed(2)} –≥—Ä–Ω
‚Ä¢ –ù–∞ —Ä—ñ–∫: ${mlYear.toFixed(2)} –º–ª ‚Üí ${bottlesYear} —Ñ–ª–∞–∫–æ–Ω—ñ–≤ ‚Üí ${costYear.toFixed(2)} –≥—Ä–Ω
‚Ä¢ 1 —Ñ–ª–∞–∫–æ–Ω –≤–∏—Å—Ç–∞—á–∏—Ç—å –ø—Ä–∏–±–ª–∏–∑–Ω–æ –Ω–∞: ${daysPerBottle} —Ä–æ–±. –¥–Ω—ñ–≤`;
    }).join('\n');

    const quarterlyProfit = totalMonthlyProfit * 3;
    const yearlyProfit = totalMonthlyProfit * 12;
    const quarterlyReagent = totalMonthlyReagents * 3;
    const yearlyReagent = totalMonthlyReagents * 12;
    const payback = totalMonthlyProfit > 0 ? Math.ceil(deviceCost / totalMonthlyProfit) : '‚àû';

    const summary = `
üìÖ –î–∞—Ç–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É: ${dateStr}
üìÜ –†–æ–±–æ—á–∏—Ö –¥–Ω—ñ–≤: ${workingDays}
üí∞ –ó–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–∏–±—É—Ç–æ–∫/–º—ñ—Å: ${totalMonthlyProfit.toFixed(2)} –≥—Ä–Ω
üß™ –ó–∞–≥–∞–ª—å–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ —Ä–µ–∞–≥–µ–Ω—Ç–∏/–º—ñ—Å: ${totalMonthlyReagents.toFixed(2)} –≥—Ä–Ω

üìä –ö–≤–∞—Ä—Ç–∞–ª:
‚Ä¢ –ü—Ä–∏–±—É—Ç–æ–∫: ${quarterlyProfit.toFixed(2)} –≥—Ä–Ω
‚Ä¢ –í–∏—Ç—Ä–∞—Ç–∏: ${quarterlyReagent.toFixed(2)} –≥—Ä–Ω

üìà –†—ñ–∫:
‚Ä¢ –ü—Ä–∏–±—É—Ç–æ–∫: ${yearlyProfit.toFixed(2)} –≥—Ä–Ω
‚Ä¢ –í–∏—Ç—Ä–∞—Ç–∏: ${yearlyReagent.toFixed(2)} –≥—Ä–Ω
üì¶ –í–∞—Ä—Ç—ñ—Å—Ç—å –ø—Ä–∏–ª–∞–¥—É: ${deviceCost.toFixed(2)} –≥—Ä–Ω

‚è≥ –°–∞–º–æ–æ–∫—É–ø–Ω—ñ—Å—Ç—å –ø—Ä–∏–ª–∞–¥—É: ${payback} –º—ñ—Å.

üì¶ –î–µ—Ç–∞–ª—å–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ —Ä–µ–∞–≥–µ–Ω—Ç–∞—Ö:
${reagentBreakdown}

(–î–∞–Ω—ñ –ø—Ä–∏–±–ª–∏–∑–Ω—ñ, –±–µ–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å—É, –ø–µ—Ä—Å–æ–Ω–∞–ª—É —Ç–æ—â–æ)
    `;

    document.getElementById("results").textContent = resultLines.join('\n') + summary;
  });

  document.getElementById("copyBtn").addEventListener("click", () => {
    navigator.clipboard.writeText(document.getElementById("results").textContent);
    alert("–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!");
  });

  document.getElementById("emailBtn").addEventListener("click", () => {
    const email = document.getElementById("emailAddress").value;
    if (!email) return alert("–í–≤–µ–¥—ñ—Ç—å e-mail.");
    const body = encodeURIComponent(document.getElementById("results").textContent);
    window.location.href = `mailto:${email}?subject=–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∞–Ω–∞–ª—ñ–∑—ñ–≤&body=${body}`;
  });
</script>
</body>
</html>
