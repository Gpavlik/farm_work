  <!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ—Ç—Ä–µ–±–∏ —Ä–µ–∞–≥–µ–Ω—Ç—ñ–≤ —Ç–∞ —ó—Ö –≤–∞—Ä—Ç–æ—Å—Ç—ñ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&family=Roboto:wght@400;500;700;900&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/1.1.0/modern-normalize.css"
    integrity="sha512-Y0MM+V6ymRKN2zStTqzQ227DWhhp4Mzdo6gnlRnuaNCbc+YN/ZH0sBCLTM4M0oSy9c9VKiCvd4Jk44aCLrNS5Q=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="./css/main.css" />
  <link rel="stylesheet" href="./css/styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">


<<!-- Google tag (gtag.js) -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-5BZZCV5DRK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag("js", new Date());
  gtag("config", "G-5BZZCV5DRK");
</script>
<script>
  const email = localStorage.getItem("allowedEmail");
  if (email) {
    gtag("set", "user_properties", {
      user_id: email
    });
  }
</script>
<script>
  function sha256(input) {
    const encoder = new TextEncoder();
    const data = encoder.encode(input);
    return crypto.subtle.digest("SHA-256", data).then(hash => {
      return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');
    });
  }
</script>
  <style>
    main { font-family: sans-serif; 
      padding: 20px; 
      max-width: 800px; 
      margin: auto;  
      margin-top: 150px; 
      background: #f0f0f0;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      display: flex;
    flex-direction: column;
    align-items: center;
    }
    .anBlock { margin-bottom: 15px; padding: 10px; border: 1px solid #ccc; border-radius: 6px; }
    label { display: block; margin-top: 8px; }
    button { margin-top: 10px; padding: 6px 12px; }
    #results { margin-top: 20px; background: #f9f9f9; padding: 15px; border-radius: 6px; }
    input{ width: 20%; padding: 5px; margin-top: 5px; border: 1px solid #ccc; border-radius: 10px; }
  </style>

</head>
<body>
<header class="header">
    <div class="header__container">
      <a class="logo" href="./index.html"><img src="./images/logo.svg" alt="logo" width="160"></a>
      <!--<ul class="nav">
        <li class="nav__referent"><a class="nav__link" href="./index.html">–ì–æ–ª–æ–≤–Ω–∞</a></li>
        <li class="nav__referent"><a class="nav__link nav__link--active" href="./portfolio.html">–ö—É—Ä—Å–∏</a></li>
        <li class="nav__referent"><a class="nav__link" href="https://pharmasco.com/contacts" target="_blank" rel="noopener noreferrer">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
      </ul>-->
      <ul class="contacts">
        <li class="contacts__contact">
          <a class="contacts__contact-mail " href="mailto:contact@pharmasco.com">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-envelope"></use>
            </svg>contact@pharmasco.com</a>
          </a>
        </li>
       <li class="contacts__contact">
          <a class="contacts__contact-phone " href="tel:+38 (044) 537-08-04">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (044) 537-08-04</a>
            <a class="contacts__contact-phone" style="margin-top: 8px;" href="tel:+38 (067) 500-82-74">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (067) 500-82-74</a>
        </li>
      </ul>
    </div>
    <button class="mobile-menu-btn" type="button" data-menu-button>
      <svg class="mobile-menu-icon" width="24" height="16">
        <use class="mobile-menu-burger" href="./images/sprite.svg#24-menu"></use>
        <use class="mobile-menu-close" href="./images/sprite.svg#icon-X"></use>
      </svg>
    </button>
    <div class="mobile-menu" data-menu>
      <!--<ul class="mobile-menu-nav">
        <li class="mobile-menu-nav-item">
          <a class="link " href="./index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
        </li>
        <li class="mobile-menu-nav-item">
          <a class="link current" href="./portfolio.html">–ö—É—Ä—Å–∏</a>
        </li>
        <li class="mobile-menu-nav-item">
          <a class="link" href="/contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
        </li>
      </ul>-->
      <ul class="mobile-menu-contacts">
        <li class="contacts__contact">
          <a class="contacts__contact-phone " href="tel:+38 (044) 537-08-04">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (044) 537-08-04</a>
            <a class="contacts__contact-phone" style="margin-top: 8px;" href="tel:+38 (067) 500-82-74">
            <svg class="contacts__contact-icon" width="20px" height="20px">
              <use href="./images/sprite.svg#icon-phone"></use>
            </svg>+38 (067) 500-82-74</a>
        </li>
        <li class="mobile-menu-contacts-item">
          <a class="link" href="mailto:contact@pharmasco.com">contact@pharmasco.com</a>
        </li>
      </ul>
      <ul class="mobile-menu-socials">
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.instagram.com/pharmascocom/" target="_blank" rel="noopener noreferrer">Instagram</a>
        </li>
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.youtube.com/@Pharmasco" target="_blank" rel="noopener noreferrer">Youtube</a>
        </li>
        <li class="mobile-menu-socials-item">
          <a class="mobile-menu-socials-link link" href="https://www.facebook.com/Pharmasco/" target="_blank" rel="noopener noreferrer">Facebook</a>
        </li>
      </ul>
    </div>
  </header>
  <main>
  <section class="works">
  <div class="container">
  <h2>–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ—Ç—Ä–µ–±–∏ —Ä–µ–∞–≥–µ–Ω—Ç—ñ–≤ —Ç–∞ —ó—Ö –≤–∞—Ä—Ç–æ—Å—Ç—ñ –°–ê1200</h2>

  <label style="text-align: center;">üí∞ –¶—ñ–Ω–∞ –ø—Ä–∏–ª–∞–¥—É (–≥—Ä–Ω): <input type="number" id="deviceCost" value="0"></label>

  <div id="testList"></div>
  <ul>
  <li class="button"><button class="btn" onclick="calculate()">üîç –†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
  <button class="btn" onclick="copyResult()">üìã –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
<button class="btn" type="button"><a style="text-decoration: none;" class="text__work" href="./obj15.html">–ù–∞–∑–∞–¥</a></button></li>
</ul>
<p style="color: #666; font-style: italic; text-align: center;" >–£—Å—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —î –æ—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–º–∏ —ñ –∑—Ä–æ–±–ª–µ–Ω—ñ –Ω–∞ –ø—ñ–¥—Å—Ç–∞–≤—ñ —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–∏–ª–∞–¥—É –ø—Ä–∏ —ñ–¥–µ–∞–ª—å–Ω–∏—Ö —É–º–æ–≤–∞—Ö —Ä–æ–±–æ—Ç–∏. –¢–æ–º—É –≤–∞—Ä—Ç—ñ—Å—Ç—å –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å –≤—ñ–¥ –¥—ñ—ó —Ä—ñ–∑–Ω–∏—Ö —Ñ–∞–∫—Ç–æ—Ä—ñ–≤, —Ç–∞–∫–∏—Ö —è–∫: –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–æ–± –≤ –¥–µ–Ω—å, –≤–∏–±—Ä–∞–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é —è–∫–æ—Å—Ç—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—î—é, —Ç–∞ —ñ–Ω—à.</p>   

  <div class="result" id="output"></div>
</div>
</section>
</main>
 
<footer class="footer">
    <div class="container">
      <div class="find-us">
        <div class="find">
          <a class="logo footer__logo" href="/"><img src="./images/logo.svg" alt="logo" width="160"></a>
          <ul class="contacts contacts--footer">
            <li class="contacts__contact contacts__contact--footer">
              <address class="contacts__post"><p>–£–∫—Ä–∞—ó–Ω–∞, –ö–∏—ó–≤—Å—å–∫–∞ –æ–±–ª.,</p> <p>–º. –í–∏—à–≥–æ—Ä–æ–¥,</p> <p>–≤—É–ª. –®–æ–ª—É–¥–µ–Ω–∫–∞, 15–≥</p></address>
            </li>
            <li class="contacts__contact contacts__contact--footer">
              <a class="contacts__contact-mail contacts__contact-mail--footer"
                href="mailto:contact@pharmasco.com">contact@pharmasco.com</a>
            </li>
            <li class="contacts__contact contacts__contact--footer">
              <a class="contacts__contact-phone contacts__contact-phone--footer" href="tel:+38 (044) 537-08-04">+38 (044) 537-08-04</a>
              <a class="contacts__contact-phone contacts__contact-phone--footer" href="tel:+38 (067) 500-82-74">+38 (067) 500-82-74</a>
            </li>
          </ul>
        </div>
        <div class="social social--footer">
          <h2 class="social__title">–ø—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å</h2>
          <ul class="social__list social__list--footer">
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.instagram.com/pharmascocom/" target="_blank" rel="noopener noreferrer"
                aria-label="–∏–Ω—Å—Ç–∞–≥—Ä–∞–º –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/sprite.svg#icon-instagram"></use>
                </svg></a>
            </li>
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.youtube.com/@Pharmasco" target="_blank" rel="noopener noreferrer"
                aria-label="—Ç–≤–∏—Ç—Ç–µ—Ä –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/uoytube.svg"></use>
                </svg></a>
            </li>
            <li class="social__item social__item--footer">
              <a class="social__link social__link--footer link" href="https://www.facebook.com/Pharmasco/" target="_blank" rel="noopener noreferrer"
                aria-label="—Ñ–µ–π—Å–±—É–∫ –∏–∫–æ–Ω–∫–∞">
                <svg class="social__icon social__icon--footer" width="20px" height="20px">
                  <use href="./images/sprite.svg#icon-facebook"></use>
                </svg></a> 
            </li>       
          </ul>
        </div>
        <div class="spam">
          <h2 class="spam__title" style="line-height: 2;">–¢–û–í ¬´–ù–í–ö ¬´–§–∞—Ä–º–∞—Å–∫–æ¬ª ‚Äì –ø—Ä–æ–≤—ñ–¥–Ω–∏–π –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫ –∑–∞—Å–æ–±—ñ–≤ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–ª—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –∑–∞–∫–ª–∞–¥—ñ–≤ –æ—Ö–æ—Ä–æ–Ω–∏ –∑–¥–æ—Ä–æ–≤‚Äô—è, –ª—ñ–∫–∞—Ä—ñ–≤ —Ç–∞ –ø–∞—Ü—ñ—î–Ω—Ç—ñ–≤.</h2>
          <!--<form class="spam__form">
            <label class="spam__label">
              <input class="spam__input" type="email" name="email" placeholder="E-mail" />
            </label>
            <button class="btn btn--spam" type="submit">–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è<a class="spam-link link" href="" target="_blank"
                rel="noopener noreferrer" aria-label="–∏–Ω—Å—Ç–∞–≥—Ä–∞–º –∏–∫–æ–Ω–∫–∞">
                <svg class="spam__icon" width="24px" height="24px">
                  <use href="./images/sprite.svg#icon-send"></use>
                </svg></a></button>
          </form>-->
        </div>
      </div>
    </div>
        <p id="currentUser" style="font-size: smaller; color: #666; text-align: center;"></p>
        <button id="scrollTopBtn" title="–î–æ –≥–æ—Ä–∏">‚¨Ü</button>
  </footer>
</body>
</html>

<script>
function formatNumber(val) {
  return val.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
}

const cuvettePrice = 8050;
const cuvettePackSize = 1000;
const daysMonth = 21, daysQuarter = 63, daysYear = 252;
const today = new Date().toLocaleDateString("uk-UA");

const testReagents = [
  { name: "–ü–ß", vialPrice: 2661, usagePerTest: 0.004998 },
  { name: "–ê–ß–¢–ß", vialPrice: 3548, usagePerTest: 0.002508 },
  { name: "–§—ñ–±—Ä–∏–Ω–æ–≥–µ–Ω", vialPrice: 16910, usagePerTest: 0.001248 },
  { name: "–¢–ß", vialPrice: 5463, usagePerTest: 0.002508 },
  { name: "D-–¥–∏–º–µ—Ä", vialPrice: 32519, usagePerTest: 0.0083 }
];

const cleaningReagents = [
  { name: "–ü—Ä–æ–º–∏–≤–Ω–∏–π —Ä–æ–∑—á–∏–Ω", vialPrice: 2012, usagePerTest: 0.003 },
  { name: "–û—á–∏—Å–Ω–∏–∫", vialPrice: 1207, usagePerTest: 0.003 }
];

const dailyReagents = [
  { name: "–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–∞–≥—É–ª—è—Ü—ñ—ó (—Ä—ñ–≤–µ–Ω—å 1)", vialPrice: 1105.6, usagePerDay: 0.1 },
  { name: "–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–∞–≥—É–ª—è—Ü—ñ—ó (—Ä—ñ–≤–µ–Ω—å 2)", vialPrice: 1105.6, usagePerDay: 0.1 }
];

const reagentMap = {
  "–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–∞–≥—É–ª—è—Ü—ñ—ó (—Ä—ñ–≤–µ–Ω—å 1)": ["–ü–ß", "–ê–ß–¢–ß", "–¢–ß"],
  "–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–∞–≥—É–ª—è—Ü—ñ—ó (—Ä—ñ–≤–µ–Ω—å 2)": ["–ü–ß", "–ê–ß–¢–ß", "–¢–ß"],
  "–ö–∞–ª—ñ–±—Ä–∞—Ç–æ—Ä –§—ñ–±—Ä–∏–Ω–æ–≥–µ–Ω—É": ["–§—ñ–±—Ä–∏–Ω–æ–≥–µ–Ω"],
  "–ö–∞–ª—ñ–±—Ä–∞—Ç–æ—Ä D-–¥–∏–º–µ—Ä—É": ["D-–¥–∏–º–µ—Ä"],
  "–ö–æ–Ω—Ç—Ä–æ–ª—å D-–¥–∏–º–µ—Ä—É (–Ω–∏–∑—å–∫–∏–π —Ä—ñ–≤–µ–Ω—å)": ["D-–¥–∏–º–µ—Ä"],
  "–ö–æ–Ω—Ç—Ä–æ–ª—å D-–¥–∏–º–µ—Ä—É (–≤–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å)": ["D-–¥–∏–º–µ—Ä"]
};

const specialReagents = {
  "–ö–∞–ª—ñ–±—Ä–∞—Ç–æ—Ä –§—ñ–±—Ä–∏–Ω–æ–≥–µ–Ω—É": { vialPrice: 7154.0, yearlyUnits: 1 },
  "–ö–∞–ª—ñ–±—Ä–∞—Ç–æ—Ä D-–¥–∏–º–µ—Ä—É": { vialPrice: 13007.5, yearlyUnits: 1 },
  "–ö–æ–Ω—Ç—Ä–æ–ª—å D-–¥–∏–º–µ—Ä—É (–Ω–∏–∑—å–∫–∏–π —Ä—ñ–≤–µ–Ω—å)": { vialPrice: 21285.0, usagePerDay: 0.1 },
  "–ö–æ–Ω—Ç—Ä–æ–ª—å D-–¥–∏–º–µ—Ä—É (–≤–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å)": { vialPrice: 21285.0, usagePerDay: 0.1 }
};

const container = document.getElementById("testList");
testReagents.forEach((test, i) => {
  const div = document.createElement("div");
  div.className = "test-group";
  div.innerHTML = `
    <label>${test.name}</label>
    <div class="fields">
      –ö-—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤/–¥–µ–Ω—å: <input type="number" id="qty${i}" value="0">
      –¶—ñ–Ω–∞ –¥–ª—è –ø–∞—Ü—ñ—î–Ω—Ç–∞/–ù–¶–ó–£: <input type="number" id="price${i}" value="0">
    </div>
  `;
  container.appendChild(div);
});

function calculate() {
  const deviceCost = Number(document.getElementById("deviceCost").value);
  let totalTestsPerDay = 0;
  let totalProfit = 0;
  let testCost = { month: 0, quarter: 0, year: 0 };
  let cleaningCost = { month: 0, quarter: 0, year: 0 };
  let cuvetteCost = { month: 0, quarter: 0, year: 0 };
  let dailyCost = { month: 0, quarter: 0, year: 0 };
  let html = `üìÖ –î–∞—Ç–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É: ${today}\n\nüìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏:\n`;

  const activeTests = [];

  testReagents.forEach((r, i) => {
    const qty = Number(document.getElementById("qty" + i).value);
    const price = Number(document.getElementById("price" + i).value);
    if (qty <= 0) return;

    activeTests.push(r.name);
    totalTestsPerDay += qty;

    const tMonth = qty * daysMonth;
    const tQuarter = qty * daysQuarter;
    const tYear = qty * daysYear;

    const fMonth = Math.ceil(r.usagePerTest * tMonth);
    const fQuarter = Math.ceil(r.usagePerTest * tQuarter);
    const fYear = Math.ceil(r.usagePerTest * tYear);

    const costMonth = fMonth * r.vialPrice;
    const costQuarter = fQuarter * r.vialPrice;
    const costYear = fYear * r.vialPrice;

    testCost.month += costMonth;
    testCost.quarter += costQuarter;
    testCost.year += costYear;

    const costPerTest = r.usagePerTest * r.vialPrice +
      cleaningReagents.reduce((sum, x) => sum + x.usagePerTest * x.vialPrice, 0) +
      cuvettePrice / cuvettePackSize;

    const profitYear = (price - costPerTest) * tYear;
    totalProfit += profitYear;

    html += `üî¨ ${r.name}:
‚ñ∏ –°–æ–±—ñ–≤–∞—Ä—Ç—ñ—Å—Ç—å —Ç–µ—Å—Ç—É: ${formatNumber(costPerTest)} –≥—Ä–Ω
‚ñ∏ –ú—ñ—Å—è—Ü—å: ${fMonth} —É–ø. √ó ${formatNumber(r.vialPrice)} –≥—Ä–Ω = ${formatNumber(costMonth)} –≥—Ä–Ω
‚ñ∏ –ö–≤–∞—Ä—Ç–∞–ª: ${fQuarter} —É–ø. √ó ${formatNumber(r.vialPrice)} –≥—Ä–Ω = ${formatNumber(costQuarter)} –≥—Ä–Ω
‚ñ∏ –†—ñ–∫: ${fYear} —É–ø. √ó ${formatNumber(r.vialPrice)} –≥—Ä–Ω = ${formatNumber(costYear)} –≥—Ä–Ω\n\n`;
  });

  const totalTestsMonth = totalTestsPerDay * daysMonth;
  const totalTestsQuarter = totalTestsPerDay * daysQuarter;
  const totalTestsYear = totalTestsPerDay * daysYear;

  // –ö—é–≤–µ—Ç–∏
  const cPackMonth = Math.ceil(totalTestsMonth / cuvettePackSize);
  const cPackQuarter = Math.ceil(totalTestsQuarter / cuvettePackSize);
  const cPackYear = Math.ceil(totalTestsYear / cuvettePackSize);

  const cMonth = cPackMonth * cuvettePrice;
  const cQuarter = cPackQuarter * cuvettePrice;
  const cYear = cPackYear * cuvettePrice;

  cuvetteCost.month = cMonth;
  cuvetteCost.quarter = cQuarter;
  cuvetteCost.year = cYear;

  html += `üß´ –ö—é–≤–µ—Ç–∏:
‚ñ∏ –ú—ñ—Å—è—Ü—å: ${cPackMonth} —É–ø. √ó ${formatNumber(cuvettePrice)} –≥—Ä–Ω = ${formatNumber(cMonth)} –≥—Ä–Ω
‚ñ∏ –ö–≤–∞—Ä—Ç–∞–ª: ${cPackQuarter} —É–ø. √ó ${formatNumber(cuvettePrice)} –≥—Ä–Ω = ${formatNumber(cQuarter)} –≥—Ä–Ω
‚ñ∏ –†—ñ–∫: ${cPackYear} —É–ø. √ó ${formatNumber(cuvettePrice)} –≥—Ä–Ω = ${formatNumber(cYear)} –≥—Ä–Ω\n\n`;

  // –û—á–∏—â–µ–Ω–Ω—è
  cleaningReagents.forEach(cl => {
    const vMonth = Math.ceil(cl.usagePerTest * totalTestsMonth);
    const vQuarter = Math.ceil(cl.usagePerTest * totalTestsQuarter);
    const vYear = Math.ceil(cl.usagePerTest * totalTestsYear);

    const costMonth = vMonth * cl.vialPrice;
    const costQuarter = vQuarter * cl.vialPrice;
    const costYear = vYear * cl.vialPrice;

    cleaningCost.month += costMonth;
    cleaningCost.quarter += costQuarter;
    cleaningCost.year += costYear;

    html += `üßº ${cl.name}:
‚ñ∏ –ú—ñ—Å—è—Ü—å: ${vMonth} —É–ø. √ó ${formatNumber(cl.vialPrice)} –≥—Ä–Ω = ${formatNumber(costMonth)} –≥—Ä–Ω
‚ñ∏ –ö–≤–∞—Ä—Ç–∞–ª: ${vQuarter} —É–ø. √ó ${formatNumber(cl.vialPrice)} –≥—Ä–Ω = ${formatNumber(costQuarter)} –≥—Ä–Ω
‚ñ∏ –†—ñ–∫: ${vYear} —É–ø. √ó ${formatNumber(cl.vialPrice)} –≥—Ä–Ω = ${formatNumber(costYear)} –≥—Ä–Ω\n`;
  });

// –©–æ–¥–µ–Ω–Ω—ñ —Ä–µ–∞–≥–µ–Ω—Ç–∏
dailyReagents.forEach(r => {
  const relatedTests = reagentMap[r.name];
  const isUsed = relatedTests?.some(test => activeTests.includes(test));
  if (!isUsed) return;

  const uMonth = Math.ceil(r.usagePerDay * daysMonth);
  const uQuarter = Math.ceil(r.usagePerDay * daysQuarter);
  const uYear = Math.ceil(r.usagePerDay * daysYear);

  const costMonth = uMonth * r.vialPrice;
  const costQuarter = uQuarter * r.vialPrice;
  const costYear = uYear * r.vialPrice;

  dailyCost.month += costMonth;
  dailyCost.quarter += costQuarter;
  dailyCost.year += costYear;

  html += `üß™ ${r.name}:
‚ñ∏ –ú—ñ—Å—è—Ü—å: ${uMonth} —É–ø. √ó ${formatNumber(r.vialPrice)} –≥—Ä–Ω = ${formatNumber(costMonth)} –≥—Ä–Ω
‚ñ∏ –ö–≤–∞—Ä—Ç–∞–ª: ${uQuarter} —É–ø. √ó ${formatNumber(r.vialPrice)} –≥—Ä–Ω = ${formatNumber(costQuarter)} –≥—Ä–Ω
‚ñ∏ –†—ñ–∫: ${uYear} —É–ø. √ó ${formatNumber(r.vialPrice)} –≥—Ä–Ω = ${formatNumber(costYear)} –≥—Ä–Ω\n`;
});

// –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Ä–µ–∞–≥–µ–Ω—Ç–∏
Object.entries(specialReagents).forEach(([name, config]) => {
  const relatedTests = reagentMap[name];
  const isUsed = relatedTests?.some(test => activeTests.includes(test));
  if (!isUsed) return;

  if (config.yearlyUnits) {
    const cost = config.vialPrice;
    dailyCost.month += cost;
    dailyCost.quarter += cost;
    dailyCost.year += cost;

    html += `üß™ ${name}:
‚ñ∏ –ú—ñ—Å—è—Ü—å: 1 —É–ø. √ó ${formatNumber(config.vialPrice)} –≥—Ä–Ω = ${formatNumber(config.vialPrice)} –≥—Ä–Ω
‚ñ∏ –ö–≤–∞—Ä—Ç–∞–ª: 1 —É–ø. √ó ${formatNumber(config.vialPrice)} –≥—Ä–Ω = ${formatNumber(config.vialPrice)} –≥—Ä–Ω
‚ñ∏ –†—ñ–∫: 1 —É–ø. √ó ${formatNumber(config.vialPrice)} –≥—Ä–Ω = ${formatNumber(config.vialPrice)} –≥—Ä–Ω\n`;
  } else if (config.usagePerDay) {
    const uMonth = Math.ceil(config.usagePerDay * daysMonth);
    const uQuarter = Math.ceil(config.usagePerDay * daysQuarter);
    const uYear = Math.ceil(config.usagePerDay * daysYear);

    const costMonth = uMonth * config.vialPrice;
    const costQuarter = uQuarter * config.vialPrice;
    const costYear = uYear * config.vialPrice;

    dailyCost.month += costMonth;
    dailyCost.quarter += costQuarter;
    dailyCost.year += costYear;

    html += `üß™ ${name}:
‚ñ∏ –ú—ñ—Å—è—Ü—å: ${uMonth} —É–ø. √ó ${formatNumber(config.vialPrice)} –≥—Ä–Ω = ${formatNumber(costMonth)} –≥—Ä–Ω
‚ñ∏ –ö–≤–∞—Ä—Ç–∞–ª: ${uQuarter} —É–ø. √ó ${formatNumber(config.vialPrice)} –≥—Ä–Ω = ${formatNumber(costQuarter)} –≥—Ä–Ω
‚ñ∏ –†—ñ–∫: ${uYear} —É–ø. √ó ${formatNumber(config.vialPrice)} –≥—Ä–Ω = ${formatNumber(costYear)} –≥—Ä–Ω\n`;
  }
});

// üìä –ü—ñ–¥—Å—É–º–∫–∏
const totalCostMonth = testCost.month + cleaningCost.month + cuvetteCost.month + dailyCost.month;
const totalCostQuarter = testCost.quarter + cleaningCost.quarter + cuvetteCost.quarter + dailyCost.quarter;
const totalCostYear = testCost.year + cleaningCost.year + cuvetteCost.year + dailyCost.year;

const netProfit = totalProfit - deviceCost - dailyCost.year;
const payback = totalProfit > 0
  ? Math.ceil((deviceCost + dailyCost.year) / (totalProfit / daysYear))
  : "‚àû";

html += `\nüì¶ –ü—ñ–¥—Å—É–º–∫–∏:
- –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤: ${totalTestsYear}
- –ó–∞–≥–∞–ª—å–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏:
  ‚ñ∏ –ú—ñ—Å—è—Ü—å: ${formatNumber(totalCostMonth)} –≥—Ä–Ω
  ‚ñ∏ –ö–≤–∞—Ä—Ç–∞–ª: ${formatNumber(totalCostQuarter)} –≥—Ä–Ω
  ‚ñ∏ –†—ñ–∫: ${formatNumber(totalCostYear)} –≥—Ä–Ω
- –ó–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–∏–±—É—Ç–æ–∫ –∑–∞ —Ä—ñ–∫: ${formatNumber(totalProfit)} –≥—Ä–Ω
- –ß–∏—Å—Ç–∏–π –ø—Ä–∏–±—É—Ç–æ–∫ (–º—ñ–Ω—É—Å –ø—Ä–∏–ª–∞–¥ —ñ —â–æ–¥–µ–Ω–Ω—ñ —Ä–µ–∞–≥–µ–Ω—Ç–∏): ${formatNumber(netProfit)} –≥—Ä–Ω
- –¢–µ—Ä–º—ñ–Ω –æ–∫—É–ø–Ω–æ—Å—Ç—ñ: ${payback} —Ä–æ–±–æ—á–∏—Ö –¥–Ω—ñ–≤

–£—Å—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —î –æ—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∏–º–∏ —ñ –∑—Ä–æ–±–ª–µ–Ω—ñ –Ω–∞ –ø—ñ–¥—Å—Ç–∞–≤—ñ —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–∏–ª–∞–¥—É –ø—Ä–∏ —ñ–¥–µ–∞–ª—å–Ω–∏—Ö —É–º–æ–≤–∞—Ö —Ä–æ–±–æ—Ç–∏.`;

document.getElementById("output").innerText = html;
}

function copyResult() {
  const result = document.getElementById("output").innerText;
  navigator.clipboard.writeText(result)
    .then(() => alert("‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É!"))
    .catch(() => alert("‚ö†Ô∏è –ù–µ –≤–¥–∞–ª–æ—Å—è —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏"));
}
  
</script>

  </body>
</html>